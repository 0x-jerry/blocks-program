const co=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}};co();function Vs(e,t){const s=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return t?i=>!!s[i.toLowerCase()]:i=>!!s[i]}const uo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ao=Vs(uo);function ci(e){return!!e||e===""}function qs(e){if(E(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=J(n)?po(n):qs(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(J(e))return e;if(tt(e))return e}}const ho=/;(?![^(]*\))/g,fo=/:(.+)/;function po(e){const t={};return e.split(ho).forEach(s=>{if(s){const n=s.split(fo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Gs(e){let t="";if(J(e))t=e;else if(E(e))for(let s=0;s<e.length;s++){const n=Gs(e[s]);n&&(t+=n+" ")}else if(tt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const z={},Ce=[],at=()=>{},go=()=>!1,mo=/^on[^a-z]/,ns=e=>mo.test(e),Js=e=>e.startsWith("onUpdate:"),Q=Object.assign,Ys=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},_o=Object.prototype.hasOwnProperty,A=(e,t)=>_o.call(e,t),E=Array.isArray,Be=e=>is(e)==="[object Map]",bo=e=>is(e)==="[object Set]",S=e=>typeof e=="function",J=e=>typeof e=="string",Xs=e=>typeof e=="symbol",tt=e=>e!==null&&typeof e=="object",ui=e=>tt(e)&&S(e.then)&&S(e.catch),vo=Object.prototype.toString,is=e=>vo.call(e),xo=e=>is(e).slice(8,-1),wo=e=>is(e)==="[object Object]",Zs=e=>J(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ue=Vs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),os=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ko=/-(\w)/g,re=os(e=>e.replace(ko,(t,s)=>s?s.toUpperCase():"")),yo=/\B([A-Z])/g,ue=os(e=>e.replace(yo,"-$1").toLowerCase()),ai=os(e=>e.charAt(0).toUpperCase()+e.slice(1)),ks=os(e=>e?`on${ai(e)}`:""),Ye=(e,t)=>!Object.is(e,t),ys=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Xe=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},Co=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Pn;const Bo=()=>Pn||(Pn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let gt;class To{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&gt&&(this.parent=gt,this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}run(t){if(this.active){const s=gt;try{return gt=this,t()}finally{gt=s}}}on(){gt=this}off(){gt=this.parent}stop(t){if(this.active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Fo(e,t=gt){t&&t.active&&t.effects.push(e)}const Qs=e=>{const t=new Set(e);return t.w=0,t.n=0,t},hi=e=>(e.w&Mt)>0,di=e=>(e.n&Mt)>0,Po=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Mt},$o=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const i=t[n];hi(i)&&!di(i)?i.delete(e):t[s++]=i,i.w&=~Mt,i.n&=~Mt}t.length=s}},Ss=new WeakMap;let ke=0,Mt=1;const Es=30;let ut;const Ht=Symbol(""),Os=Symbol("");class tn{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Fo(this,n)}run(){if(!this.active)return this.fn();let t=ut,s=Ot;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ut,ut=this,Ot=!0,Mt=1<<++ke,ke<=Es?Po(this):$n(this),this.fn()}finally{ke<=Es&&$o(this),Mt=1<<--ke,ut=this.parent,Ot=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ut===this?this.deferStop=!0:this.active&&($n(this),this.onStop&&this.onStop(),this.active=!1)}}function $n(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let Ot=!0;const fi=[];function ae(){fi.push(Ot),Ot=!1}function he(){const e=fi.pop();Ot=e===void 0?!0:e}function rt(e,t,s){if(Ot&&ut){let n=Ss.get(e);n||Ss.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=Qs()),pi(i)}}function pi(e,t){let s=!1;ke<=Es?di(e)||(e.n|=Mt,s=!hi(e)):s=!e.has(ut),s&&(e.add(ut),ut.deps.push(e))}function Bt(e,t,s,n,i,o){const r=Ss.get(e);if(!r)return;let l=[];if(t==="clear")l=[...r.values()];else if(s==="length"&&E(e))r.forEach((c,h)=>{(h==="length"||h>=n)&&l.push(c)});else switch(s!==void 0&&l.push(r.get(s)),t){case"add":E(e)?Zs(s)&&l.push(r.get("length")):(l.push(r.get(Ht)),Be(e)&&l.push(r.get(Os)));break;case"delete":E(e)||(l.push(r.get(Ht)),Be(e)&&l.push(r.get(Os)));break;case"set":Be(e)&&l.push(r.get(Ht));break}if(l.length===1)l[0]&&As(l[0]);else{const c=[];for(const h of l)h&&c.push(...h);As(Qs(c))}}function As(e,t){const s=E(e)?e:[...e];for(const n of s)n.computed&&Sn(n);for(const n of s)n.computed||Sn(n)}function Sn(e,t){(e!==ut||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const So=Vs("__proto__,__v_isRef,__isVue"),gi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xs)),Eo=en(),Oo=en(!1,!0),Ao=en(!0),En=Mo();function Mo(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=I(this);for(let o=0,r=this.length;o<r;o++)rt(n,"get",o+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(I)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){ae();const n=I(this)[t].apply(this,s);return he(),n}}),e}function en(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Yo:xi:t?vi:bi).get(n))return n;const r=E(n);if(!e&&r&&A(En,i))return Reflect.get(En,i,o);const l=Reflect.get(n,i,o);return(Xs(i)?gi.has(i):So(i))||(e||rt(n,"get",i),t)?l:Z(l)?r&&Zs(i)?l:l.value:tt(l)?e?wi(l):Oe(l):l}}const Ro=mi(),Io=mi(!0);function mi(e=!1){return function(s,n,i,o){let r=s[n];if(Pe(r)&&Z(r)&&!Z(i))return!1;if(!e&&!Pe(i)&&(Ms(i)||(i=I(i),r=I(r)),!E(s)&&Z(r)&&!Z(i)))return r.value=i,!0;const l=E(s)&&Zs(n)?Number(n)<s.length:A(s,n),c=Reflect.set(s,n,i,o);return s===I(o)&&(l?Ye(i,r)&&Bt(s,"set",n,i):Bt(s,"add",n,i)),c}}function Do(e,t){const s=A(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&Bt(e,"delete",t,void 0),n}function jo(e,t){const s=Reflect.has(e,t);return(!Xs(t)||!gi.has(t))&&rt(e,"has",t),s}function zo(e){return rt(e,"iterate",E(e)?"length":Ht),Reflect.ownKeys(e)}const _i={get:Eo,set:Ro,deleteProperty:Do,has:jo,ownKeys:zo},Wo={get:Ao,set(e,t){return!0},deleteProperty(e,t){return!0}},Lo=Q({},_i,{get:Oo,set:Io}),sn=e=>e,rs=e=>Reflect.getPrototypeOf(e);function De(e,t,s=!1,n=!1){e=e.__v_raw;const i=I(e),o=I(t);s||(t!==o&&rt(i,"get",t),rt(i,"get",o));const{has:r}=rs(i),l=n?sn:s?ln:rn;if(r.call(i,t))return l(e.get(t));if(r.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function je(e,t=!1){const s=this.__v_raw,n=I(s),i=I(e);return t||(e!==i&&rt(n,"has",e),rt(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function ze(e,t=!1){return e=e.__v_raw,!t&&rt(I(e),"iterate",Ht),Reflect.get(e,"size",e)}function On(e){e=I(e);const t=I(this);return rs(t).has.call(t,e)||(t.add(e),Bt(t,"add",e,e)),this}function An(e,t){t=I(t);const s=I(this),{has:n,get:i}=rs(s);let o=n.call(s,e);o||(e=I(e),o=n.call(s,e));const r=i.call(s,e);return s.set(e,t),o?Ye(t,r)&&Bt(s,"set",e,t):Bt(s,"add",e,t),this}function Mn(e){const t=I(this),{has:s,get:n}=rs(t);let i=s.call(t,e);i||(e=I(e),i=s.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&Bt(t,"delete",e,void 0),o}function Rn(){const e=I(this),t=e.size!==0,s=e.clear();return t&&Bt(e,"clear",void 0,void 0),s}function We(e,t){return function(n,i){const o=this,r=o.__v_raw,l=I(r),c=t?sn:e?ln:rn;return!e&&rt(l,"iterate",Ht),r.forEach((h,p)=>n.call(i,c(h),c(p),o))}}function Le(e,t,s){return function(...n){const i=this.__v_raw,o=I(i),r=Be(o),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,h=i[e](...n),p=s?sn:t?ln:rn;return!t&&rt(o,"iterate",c?Os:Ht),{next(){const{value:f,done:w}=h.next();return w?{value:f,done:w}:{value:l?[p(f[0]),p(f[1])]:p(f),done:w}},[Symbol.iterator](){return this}}}}function $t(e){return function(...t){return e==="delete"?!1:this}}function No(){const e={get(o){return De(this,o)},get size(){return ze(this)},has:je,add:On,set:An,delete:Mn,clear:Rn,forEach:We(!1,!1)},t={get(o){return De(this,o,!1,!0)},get size(){return ze(this)},has:je,add:On,set:An,delete:Mn,clear:Rn,forEach:We(!1,!0)},s={get(o){return De(this,o,!0)},get size(){return ze(this,!0)},has(o){return je.call(this,o,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:We(!0,!1)},n={get(o){return De(this,o,!0,!0)},get size(){return ze(this,!0)},has(o){return je.call(this,o,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:We(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Le(o,!1,!1),s[o]=Le(o,!0,!1),t[o]=Le(o,!1,!0),n[o]=Le(o,!0,!0)}),[e,s,t,n]}const[Ho,Uo,Ko,Vo]=No();function nn(e,t){const s=t?e?Vo:Ko:e?Uo:Ho;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(A(s,i)&&i in n?s:n,i,o)}const qo={get:nn(!1,!1)},Go={get:nn(!1,!0)},Jo={get:nn(!0,!1)},bi=new WeakMap,vi=new WeakMap,xi=new WeakMap,Yo=new WeakMap;function Xo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zo(e){return e.__v_skip||!Object.isExtensible(e)?0:Xo(xo(e))}function Oe(e){return Pe(e)?e:on(e,!1,_i,qo,bi)}function Qo(e){return on(e,!1,Lo,Go,vi)}function wi(e){return on(e,!0,Wo,Jo,xi)}function on(e,t,s,n,i){if(!tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const r=Zo(e);if(r===0)return e;const l=new Proxy(e,r===2?n:s);return i.set(e,l),l}function ie(e){return Pe(e)?ie(e.__v_raw):!!(e&&e.__v_isReactive)}function Pe(e){return!!(e&&e.__v_isReadonly)}function Ms(e){return!!(e&&e.__v_isShallow)}function ki(e){return ie(e)||Pe(e)}function I(e){const t=e&&e.__v_raw;return t?I(t):e}function yi(e){return Xe(e,"__v_skip",!0),e}const rn=e=>tt(e)?Oe(e):e,ln=e=>tt(e)?wi(e):e;function tr(e){Ot&&ut&&(e=I(e),pi(e.dep||(e.dep=Qs())))}function er(e,t){e=I(e),e.dep&&As(e.dep)}function Z(e){return!!(e&&e.__v_isRef===!0)}function sr(e){return Z(e)?e.value:e}const nr={get:(e,t,s)=>sr(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return Z(i)&&!Z(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Ci(e){return ie(e)?e:new Proxy(e,nr)}class ir{constructor(t,s,n,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new tn(t,()=>{this._dirty||(this._dirty=!0,er(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=I(this);return tr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function or(e,t,s=!1){let n,i;const o=S(e);return o?(n=e,i=at):(n=e.get,i=e.set),new ir(n,i,o||!i,s)}function At(e,t,s,n){let i;try{i=n?e(...n):e()}catch(o){ls(o,t,s)}return i}function ht(e,t,s,n){if(S(e)){const o=At(e,t,s,n);return o&&ui(o)&&o.catch(r=>{ls(r,t,s)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(ht(e[o],t,s,n));return i}function ls(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,l=s;for(;o;){const h=o.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,r,l)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){At(c,null,10,[e,r,l]);return}}rr(e,s,i,n)}function rr(e,t,s,n=!0){console.error(e)}let Ze=!1,Rs=!1;const it=[];let kt=0;const Te=[];let ye=null,Qt=0;const Fe=[];let St=null,te=0;const Bi=Promise.resolve();let cn=null,Is=null;function lr(e){const t=cn||Bi;return e?t.then(this?e.bind(this):e):t}function cr(e){let t=kt+1,s=it.length;for(;t<s;){const n=t+s>>>1;$e(it[n])<e?t=n+1:s=n}return t}function Ti(e){(!it.length||!it.includes(e,Ze&&e.allowRecurse?kt+1:kt))&&e!==Is&&(e.id==null?it.push(e):it.splice(cr(e.id),0,e),Fi())}function Fi(){!Ze&&!Rs&&(Rs=!0,cn=Bi.then(Si))}function ur(e){const t=it.indexOf(e);t>kt&&it.splice(t,1)}function Pi(e,t,s,n){E(e)?s.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&s.push(e),Fi()}function ar(e){Pi(e,ye,Te,Qt)}function hr(e){Pi(e,St,Fe,te)}function cs(e,t=null){if(Te.length){for(Is=t,ye=[...new Set(Te)],Te.length=0,Qt=0;Qt<ye.length;Qt++)ye[Qt]();ye=null,Qt=0,Is=null,cs(e,t)}}function $i(e){if(cs(),Fe.length){const t=[...new Set(Fe)];if(Fe.length=0,St){St.push(...t);return}for(St=t,St.sort((s,n)=>$e(s)-$e(n)),te=0;te<St.length;te++)St[te]();St=null,te=0}}const $e=e=>e.id==null?1/0:e.id;function Si(e){Rs=!1,Ze=!0,cs(e),it.sort((s,n)=>$e(s)-$e(n));const t=at;try{for(kt=0;kt<it.length;kt++){const s=it[kt];s&&s.active!==!1&&At(s,null,14)}}finally{kt=0,it.length=0,$i(),Ze=!1,cn=null,(it.length||Te.length||Fe.length)&&Si(e)}}function dr(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||z;let i=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in n){const p=`${r==="modelValue"?"model":r}Modifiers`,{number:f,trim:w}=n[p]||z;w&&(i=s.map(T=>T.trim())),f&&(i=s.map(Co))}let l,c=n[l=ks(t)]||n[l=ks(re(t))];!c&&o&&(c=n[l=ks(ue(t))]),c&&ht(c,e,6,i);const h=n[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ht(h,e,6,i)}}function Ei(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},l=!1;if(!S(e)){const c=h=>{const p=Ei(h,t,!0);p&&(l=!0,Q(r,p))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(n.set(e,null),null):(E(o)?o.forEach(c=>r[c]=null):Q(r,o),n.set(e,r),r)}function us(e,t){return!e||!ns(t)?!1:(t=t.slice(2).replace(/Once$/,""),A(e,t[0].toLowerCase()+t.slice(1))||A(e,ue(t))||A(e,t))}let yt=null,Oi=null;function Qe(e){const t=yt;return yt=e,Oi=e&&e.type.__scopeId||null,t}function fr(e,t=yt,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Un(-1);const o=Qe(t),r=e(...i);return Qe(o),n._d&&Un(1),r};return n._n=!0,n._c=!0,n._d=!0,n}function Cs(e){const{type:t,vnode:s,proxy:n,withProxy:i,props:o,propsOptions:[r],slots:l,attrs:c,emit:h,render:p,renderCache:f,data:w,setupState:T,ctx:R,inheritAttrs:$}=e;let P,O;const Y=Qe(e);try{if(s.shapeFlag&4){const H=i||n;P=_t(p.call(H,H,f,o,T,w,R)),O=c}else{const H=t;P=_t(H.length>1?H(o,{attrs:c,slots:l,emit:h}):H(o,null)),O=t.props?c:pr(c)}}catch(H){ls(H,e,1),P=K(Se)}let N=P;if(O&&$!==!1){const H=Object.keys(O),{shapeFlag:dt}=N;H.length&&dt&7&&(r&&H.some(Js)&&(O=gr(O,r)),N=le(N,O))}return s.dirs&&(N=le(N),N.dirs=N.dirs?N.dirs.concat(s.dirs):s.dirs),s.transition&&(N.transition=s.transition),P=N,Qe(Y),P}const pr=e=>{let t;for(const s in e)(s==="class"||s==="style"||ns(s))&&((t||(t={}))[s]=e[s]);return t},gr=(e,t)=>{const s={};for(const n in e)(!Js(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function mr(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:l,patchFlag:c}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?In(n,r,h):!!r;if(c&8){const p=t.dynamicProps;for(let f=0;f<p.length;f++){const w=p[f];if(r[w]!==n[w]&&!us(h,w))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?In(n,r,h):!0:!!r;return!1}function In(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!us(s,o))return!0}return!1}function _r({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const br=e=>e.__isSuspense;function vr(e,t){t&&t.pendingBranch?E(e)?t.effects.push(...e):t.effects.push(e):hr(e)}function xr(e,t){if(q){let s=q.provides;const n=q.parent&&q.parent.provides;n===s&&(s=q.provides=Object.create(n)),s[e]=t}}function Bs(e,t,s=!1){const n=q||yt;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&S(t)?t.call(n.proxy):t}}const Dn={};function Ts(e,t,s){return Ai(e,t,s)}function Ai(e,t,{immediate:s,deep:n,flush:i,onTrack:o,onTrigger:r}=z){const l=q;let c,h=!1,p=!1;if(Z(e)?(c=()=>e.value,h=Ms(e)):ie(e)?(c=()=>e,n=!0):E(e)?(p=!0,h=e.some(O=>ie(O)||Ms(O)),c=()=>e.map(O=>{if(Z(O))return O.value;if(ie(O))return ee(O);if(S(O))return At(O,l,2)})):S(e)?t?c=()=>At(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),ht(e,l,3,[w])}:c=at,t&&n){const O=c;c=()=>ee(O())}let f,w=O=>{f=P.onStop=()=>{At(O,l,4)}};if(Ee)return w=at,t?s&&ht(t,l,3,[c(),p?[]:void 0,w]):c(),at;let T=p?[]:Dn;const R=()=>{if(!!P.active)if(t){const O=P.run();(n||h||(p?O.some((Y,N)=>Ye(Y,T[N])):Ye(O,T)))&&(f&&f(),ht(t,l,3,[O,T===Dn?void 0:T,w]),T=O)}else P.run()};R.allowRecurse=!!t;let $;i==="sync"?$=R:i==="post"?$=()=>st(R,l&&l.suspense):$=()=>ar(R);const P=new tn(c,$);return t?s?R():T=P.run():i==="post"?st(P.run.bind(P),l&&l.suspense):P.run(),()=>{P.stop(),l&&l.scope&&Ys(l.scope.effects,P)}}function wr(e,t,s){const n=this.proxy,i=J(e)?e.includes(".")?Mi(n,e):()=>n[e]:e.bind(n,n);let o;S(t)?o=t:(o=t.handler,s=t);const r=q;ce(this);const l=Ai(i,o.bind(n),s);return r?ce(r):Ut(),l}function Mi(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function ee(e,t){if(!tt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Z(e))ee(e.value,t);else if(E(e))for(let s=0;s<e.length;s++)ee(e[s],t);else if(bo(e)||Be(e))e.forEach(s=>{ee(s,t)});else if(wo(e))for(const s in e)ee(e[s],t);return e}function Ri(e){return S(e)?{setup:e,name:e.name}:e}const Ke=e=>!!e.type.__asyncLoader,Ii=e=>e.type.__isKeepAlive;function kr(e,t){Di(e,"a",t)}function yr(e,t){Di(e,"da",t)}function Di(e,t,s=q){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(as(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Ii(i.parent.vnode)&&Cr(n,t,s,i),i=i.parent}}function Cr(e,t,s,n){const i=as(t,e,n,!0);zi(()=>{Ys(n[t],i)},s)}function as(e,t,s=q,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;ae(),ce(s);const l=ht(t,s,e,r);return Ut(),he(),l});return n?i.unshift(o):i.push(o),o}}const Tt=e=>(t,s=q)=>(!Ee||e==="sp")&&as(e,t,s),Br=Tt("bm"),ji=Tt("m"),Tr=Tt("bu"),Fr=Tt("u"),Pr=Tt("bum"),zi=Tt("um"),$r=Tt("sp"),Sr=Tt("rtg"),Er=Tt("rtc");function Or(e,t=q){as("ec",e,t)}function zt(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let c=l.dir[n];c&&(ae(),ht(c,s,8,[e.el,l,e,t]),he())}}const Ar=Symbol(),Ds=e=>e?Yi(e)?fn(e)||e.proxy:Ds(e.parent):null,ts=Q(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ds(e.parent),$root:e=>Ds(e.root),$emit:e=>e.emit,$options:e=>Li(e),$forceUpdate:e=>e.f||(e.f=()=>Ti(e.update)),$nextTick:e=>e.n||(e.n=lr.bind(e.proxy)),$watch:e=>wr.bind(e)}),Mr={get({_:e},t){const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:l,appContext:c}=e;let h;if(t[0]!=="$"){const T=r[t];if(T!==void 0)switch(T){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(n!==z&&A(n,t))return r[t]=1,n[t];if(i!==z&&A(i,t))return r[t]=2,i[t];if((h=e.propsOptions[0])&&A(h,t))return r[t]=3,o[t];if(s!==z&&A(s,t))return r[t]=4,s[t];js&&(r[t]=0)}}const p=ts[t];let f,w;if(p)return t==="$attrs"&&rt(e,"get",t),p(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(s!==z&&A(s,t))return r[t]=4,s[t];if(w=c.config.globalProperties,A(w,t))return w[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return i!==z&&A(i,t)?(i[t]=s,!0):n!==z&&A(n,t)?(n[t]=s,!0):A(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let l;return!!s[r]||e!==z&&A(e,r)||t!==z&&A(t,r)||(l=o[0])&&A(l,r)||A(n,r)||A(ts,r)||A(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:A(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let js=!0;function Rr(e){const t=Li(e),s=e.proxy,n=e.ctx;js=!1,t.beforeCreate&&jn(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:l,provide:c,inject:h,created:p,beforeMount:f,mounted:w,beforeUpdate:T,updated:R,activated:$,deactivated:P,beforeDestroy:O,beforeUnmount:Y,destroyed:N,unmounted:H,render:dt,renderTracked:Dt,renderTriggered:me,errorCaptured:Me,serverPrefetch:jt,expose:_e,inheritAttrs:Jt,components:be,directives:Re,filters:kn}=t;if(h&&Ir(h,n,null,e.appContext.config.unwrapInjectedRef),r)for(const U in r){const W=r[U];S(W)&&(n[U]=W.bind(s))}if(i){const U=i.call(s,s);tt(U)&&(e.data=Oe(U))}if(js=!0,o)for(const U in o){const W=o[U],bt=S(W)?W.bind(s,s):S(W.get)?W.get.bind(s,s):at,vs=!S(W)&&S(W.set)?W.set.bind(s):at,ve=al({get:bt,set:vs});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>ve.value,set:Yt=>ve.value=Yt})}if(l)for(const U in l)Wi(l[U],n,s,U);if(c){const U=S(c)?c.call(s):c;Reflect.ownKeys(U).forEach(W=>{xr(W,U[W])})}p&&jn(p,e,"c");function et(U,W){E(W)?W.forEach(bt=>U(bt.bind(s))):W&&U(W.bind(s))}if(et(Br,f),et(ji,w),et(Tr,T),et(Fr,R),et(kr,$),et(yr,P),et(Or,Me),et(Er,Dt),et(Sr,me),et(Pr,Y),et(zi,H),et($r,jt),E(_e))if(_e.length){const U=e.exposed||(e.exposed={});_e.forEach(W=>{Object.defineProperty(U,W,{get:()=>s[W],set:bt=>s[W]=bt})})}else e.exposed||(e.exposed={});dt&&e.render===at&&(e.render=dt),Jt!=null&&(e.inheritAttrs=Jt),be&&(e.components=be),Re&&(e.directives=Re)}function Ir(e,t,s=at,n=!1){E(e)&&(e=zs(e));for(const i in e){const o=e[i];let r;tt(o)?"default"in o?r=Bs(o.from||i,o.default,!0):r=Bs(o.from||i):r=Bs(o),Z(r)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):t[i]=r}}function jn(e,t,s){ht(E(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Wi(e,t,s,n){const i=n.includes(".")?Mi(s,n):()=>s[n];if(J(e)){const o=t[e];S(o)&&Ts(i,o)}else if(S(e))Ts(i,e.bind(s));else if(tt(e))if(E(e))e.forEach(o=>Wi(o,t,s,n));else{const o=S(e.handler)?e.handler.bind(s):t[e.handler];S(o)&&Ts(i,o,e)}}function Li(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,l=o.get(t);let c;return l?c=l:!i.length&&!s&&!n?c=t:(c={},i.length&&i.forEach(h=>es(c,h,r,!0)),es(c,t,r)),o.set(t,c),c}function es(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&es(e,o,s,!0),i&&i.forEach(r=>es(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const l=Dr[r]||s&&s[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Dr={data:zn,props:Lt,emits:Lt,methods:Lt,computed:Lt,beforeCreate:X,created:X,beforeMount:X,mounted:X,beforeUpdate:X,updated:X,beforeDestroy:X,beforeUnmount:X,destroyed:X,unmounted:X,activated:X,deactivated:X,errorCaptured:X,serverPrefetch:X,components:Lt,directives:Lt,watch:zr,provide:zn,inject:jr};function zn(e,t){return t?e?function(){return Q(S(e)?e.call(this,this):e,S(t)?t.call(this,this):t)}:t:e}function jr(e,t){return Lt(zs(e),zs(t))}function zs(e){if(E(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function X(e,t){return e?[...new Set([].concat(e,t))]:t}function Lt(e,t){return e?Q(Q(Object.create(null),e),t):t}function zr(e,t){if(!e)return t;if(!t)return e;const s=Q(Object.create(null),e);for(const n in t)s[n]=X(e[n],t[n]);return s}function Wr(e,t,s,n=!1){const i={},o={};Xe(o,hs,1),e.propsDefaults=Object.create(null),Ni(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:Qo(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Lr(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,l=I(i),[c]=e.propsOptions;let h=!1;if((n||r>0)&&!(r&16)){if(r&8){const p=e.vnode.dynamicProps;for(let f=0;f<p.length;f++){let w=p[f];if(us(e.emitsOptions,w))continue;const T=t[w];if(c)if(A(o,w))T!==o[w]&&(o[w]=T,h=!0);else{const R=re(w);i[R]=Ws(c,l,R,T,e,!1)}else T!==o[w]&&(o[w]=T,h=!0)}}}else{Ni(e,t,i,o)&&(h=!0);let p;for(const f in l)(!t||!A(t,f)&&((p=ue(f))===f||!A(t,p)))&&(c?s&&(s[f]!==void 0||s[p]!==void 0)&&(i[f]=Ws(c,l,f,void 0,e,!0)):delete i[f]);if(o!==l)for(const f in o)(!t||!A(t,f)&&!0)&&(delete o[f],h=!0)}h&&Bt(e,"set","$attrs")}function Ni(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(Ue(c))continue;const h=t[c];let p;i&&A(i,p=re(c))?!o||!o.includes(p)?s[p]=h:(l||(l={}))[p]=h:us(e.emitsOptions,c)||(!(c in n)||h!==n[c])&&(n[c]=h,r=!0)}if(o){const c=I(s),h=l||z;for(let p=0;p<o.length;p++){const f=o[p];s[f]=Ws(i,c,f,h[f],e,!A(h,f))}}return r}function Ws(e,t,s,n,i,o){const r=e[s];if(r!=null){const l=A(r,"default");if(l&&n===void 0){const c=r.default;if(r.type!==Function&&S(c)){const{propsDefaults:h}=i;s in h?n=h[s]:(ce(i),n=h[s]=c.call(null,t),Ut())}else n=c}r[0]&&(o&&!l?n=!1:r[1]&&(n===""||n===ue(s))&&(n=!0))}return n}function Hi(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},l=[];let c=!1;if(!S(e)){const p=f=>{c=!0;const[w,T]=Hi(f,t,!0);Q(r,w),T&&l.push(...T)};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!o&&!c)return n.set(e,Ce),Ce;if(E(o))for(let p=0;p<o.length;p++){const f=re(o[p]);Wn(f)&&(r[f]=z)}else if(o)for(const p in o){const f=re(p);if(Wn(f)){const w=o[p],T=r[f]=E(w)||S(w)?{type:w}:w;if(T){const R=Hn(Boolean,T.type),$=Hn(String,T.type);T[0]=R>-1,T[1]=$<0||R<$,(R>-1||A(T,"default"))&&l.push(f)}}}const h=[r,l];return n.set(e,h),h}function Wn(e){return e[0]!=="$"}function Ln(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Nn(e,t){return Ln(e)===Ln(t)}function Hn(e,t){return E(t)?t.findIndex(s=>Nn(s,e)):S(t)&&Nn(t,e)?0:-1}const Ui=e=>e[0]==="_"||e==="$stable",un=e=>E(e)?e.map(_t):[_t(e)],Nr=(e,t,s)=>{if(t._n)return t;const n=fr((...i)=>un(t(...i)),s);return n._c=!1,n},Ki=(e,t,s)=>{const n=e._ctx;for(const i in e){if(Ui(i))continue;const o=e[i];if(S(o))t[i]=Nr(i,o,n);else if(o!=null){const r=un(o);t[i]=()=>r}}},Vi=(e,t)=>{const s=un(t);e.slots.default=()=>s},Hr=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=I(t),Xe(t,"_",s)):Ki(t,e.slots={})}else e.slots={},t&&Vi(e,t);Xe(e.slots,hs,1)},Ur=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=z;if(n.shapeFlag&32){const l=t._;l?s&&l===1?o=!1:(Q(i,t),!s&&l===1&&delete i._):(o=!t.$stable,Ki(t,i)),r=t}else t&&(Vi(e,t),r={default:1});if(o)for(const l in i)!Ui(l)&&!(l in r)&&delete i[l]};function qi(){return{app:null,config:{isNativeTag:go,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kr=0;function Vr(e,t){return function(n,i=null){S(n)||(n=Object.assign({},n)),i!=null&&!tt(i)&&(i=null);const o=qi(),r=new Set;let l=!1;const c=o.app={_uid:Kr++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:hl,get config(){return o.config},set config(h){},use(h,...p){return r.has(h)||(h&&S(h.install)?(r.add(h),h.install(c,...p)):S(h)&&(r.add(h),h(c,...p))),c},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),c},component(h,p){return p?(o.components[h]=p,c):o.components[h]},directive(h,p){return p?(o.directives[h]=p,c):o.directives[h]},mount(h,p,f){if(!l){const w=K(n,i);return w.appContext=o,p&&t?t(w,h):e(w,h,f),l=!0,c._container=h,h.__vue_app__=c,fn(w.component)||w.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(h,p){return o.provides[h]=p,c}};return c}}function Ls(e,t,s,n,i=!1){if(E(e)){e.forEach((w,T)=>Ls(w,t&&(E(t)?t[T]:t),s,n,i));return}if(Ke(n)&&!i)return;const o=n.shapeFlag&4?fn(n.component)||n.component.proxy:n.el,r=i?null:o,{i:l,r:c}=e,h=t&&t.r,p=l.refs===z?l.refs={}:l.refs,f=l.setupState;if(h!=null&&h!==c&&(J(h)?(p[h]=null,A(f,h)&&(f[h]=null)):Z(h)&&(h.value=null)),S(c))At(c,l,12,[r,p]);else{const w=J(c),T=Z(c);if(w||T){const R=()=>{if(e.f){const $=w?p[c]:c.value;i?E($)&&Ys($,o):E($)?$.includes(o)||$.push(o):w?(p[c]=[o],A(f,c)&&(f[c]=p[c])):(c.value=[o],e.k&&(p[e.k]=c.value))}else w?(p[c]=r,A(f,c)&&(f[c]=r)):T&&(c.value=r,e.k&&(p[e.k]=r))};r?(R.id=-1,st(R,s)):R()}}}const st=vr;function qr(e){return Gr(e)}function Gr(e,t){const s=Bo();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:l,createComment:c,setText:h,setElementText:p,parentNode:f,nextSibling:w,setScopeId:T=at,cloneNode:R,insertStaticContent:$}=e,P=(u,a,d,m=null,g=null,v=null,k=!1,b=null,x=!!a.dynamicChildren)=>{if(u===a)return;u&&!we(u,a)&&(m=Ie(u),Pt(u,g,v,!0),u=null),a.patchFlag===-2&&(x=!1,a.dynamicChildren=null);const{type:_,ref:C,shapeFlag:y}=a;switch(_){case an:O(u,a,d,m);break;case Se:Y(u,a,d,m);break;case Fs:u==null&&N(a,d,m,k);break;case wt:Re(u,a,d,m,g,v,k,b,x);break;default:y&1?Dt(u,a,d,m,g,v,k,b,x):y&6?kn(u,a,d,m,g,v,k,b,x):(y&64||y&128)&&_.process(u,a,d,m,g,v,k,b,x,Xt)}C!=null&&g&&Ls(C,u&&u.ref,v,a||u,!a)},O=(u,a,d,m)=>{if(u==null)n(a.el=l(a.children),d,m);else{const g=a.el=u.el;a.children!==u.children&&h(g,a.children)}},Y=(u,a,d,m)=>{u==null?n(a.el=c(a.children||""),d,m):a.el=u.el},N=(u,a,d,m)=>{[u.el,u.anchor]=$(u.children,a,d,m,u.el,u.anchor)},H=({el:u,anchor:a},d,m)=>{let g;for(;u&&u!==a;)g=w(u),n(u,d,m),u=g;n(a,d,m)},dt=({el:u,anchor:a})=>{let d;for(;u&&u!==a;)d=w(u),i(u),u=d;i(a)},Dt=(u,a,d,m,g,v,k,b,x)=>{k=k||a.type==="svg",u==null?me(a,d,m,g,v,k,b,x):_e(u,a,g,v,k,b,x)},me=(u,a,d,m,g,v,k,b)=>{let x,_;const{type:C,props:y,shapeFlag:B,transition:F,patchFlag:M,dirs:D}=u;if(u.el&&R!==void 0&&M===-1)x=u.el=R(u.el);else{if(x=u.el=r(u.type,v,y&&y.is,y),B&8?p(x,u.children):B&16&&jt(u.children,x,null,m,g,v&&C!=="foreignObject",k,b),D&&zt(u,null,m,"created"),y){for(const L in y)L!=="value"&&!Ue(L)&&o(x,L,null,y[L],v,u.children,m,g,vt);"value"in y&&o(x,"value",null,y.value),(_=y.onVnodeBeforeMount)&&pt(_,m,u)}Me(x,u,u.scopeId,k,m)}D&&zt(u,null,m,"beforeMount");const j=(!g||g&&!g.pendingBranch)&&F&&!F.persisted;j&&F.beforeEnter(x),n(x,a,d),((_=y&&y.onVnodeMounted)||j||D)&&st(()=>{_&&pt(_,m,u),j&&F.enter(x),D&&zt(u,null,m,"mounted")},g)},Me=(u,a,d,m,g)=>{if(d&&T(u,d),m)for(let v=0;v<m.length;v++)T(u,m[v]);if(g){let v=g.subTree;if(a===v){const k=g.vnode;Me(u,k,k.scopeId,k.slotScopeIds,g.parent)}}},jt=(u,a,d,m,g,v,k,b,x=0)=>{for(let _=x;_<u.length;_++){const C=u[_]=b?Et(u[_]):_t(u[_]);P(null,C,a,d,m,g,v,k,b)}},_e=(u,a,d,m,g,v,k)=>{const b=a.el=u.el;let{patchFlag:x,dynamicChildren:_,dirs:C}=a;x|=u.patchFlag&16;const y=u.props||z,B=a.props||z;let F;d&&Wt(d,!1),(F=B.onVnodeBeforeUpdate)&&pt(F,d,a,u),C&&zt(a,u,d,"beforeUpdate"),d&&Wt(d,!0);const M=g&&a.type!=="foreignObject";if(_?Jt(u.dynamicChildren,_,b,d,m,M,v):k||bt(u,a,b,null,d,m,M,v,!1),x>0){if(x&16)be(b,a,y,B,d,m,g);else if(x&2&&y.class!==B.class&&o(b,"class",null,B.class,g),x&4&&o(b,"style",y.style,B.style,g),x&8){const D=a.dynamicProps;for(let j=0;j<D.length;j++){const L=D[j],lt=y[L],Zt=B[L];(Zt!==lt||L==="value")&&o(b,L,lt,Zt,g,u.children,d,m,vt)}}x&1&&u.children!==a.children&&p(b,a.children)}else!k&&_==null&&be(b,a,y,B,d,m,g);((F=B.onVnodeUpdated)||C)&&st(()=>{F&&pt(F,d,a,u),C&&zt(a,u,d,"updated")},m)},Jt=(u,a,d,m,g,v,k)=>{for(let b=0;b<a.length;b++){const x=u[b],_=a[b],C=x.el&&(x.type===wt||!we(x,_)||x.shapeFlag&70)?f(x.el):d;P(x,_,C,null,m,g,v,k,!0)}},be=(u,a,d,m,g,v,k)=>{if(d!==m){for(const b in m){if(Ue(b))continue;const x=m[b],_=d[b];x!==_&&b!=="value"&&o(u,b,_,x,k,a.children,g,v,vt)}if(d!==z)for(const b in d)!Ue(b)&&!(b in m)&&o(u,b,d[b],null,k,a.children,g,v,vt);"value"in m&&o(u,"value",d.value,m.value)}},Re=(u,a,d,m,g,v,k,b,x)=>{const _=a.el=u?u.el:l(""),C=a.anchor=u?u.anchor:l("");let{patchFlag:y,dynamicChildren:B,slotScopeIds:F}=a;F&&(b=b?b.concat(F):F),u==null?(n(_,d,m),n(C,d,m),jt(a.children,d,C,g,v,k,b,x)):y>0&&y&64&&B&&u.dynamicChildren?(Jt(u.dynamicChildren,B,d,g,v,k,b),(a.key!=null||g&&a===g.subTree)&&Gi(u,a,!0)):bt(u,a,d,C,g,v,k,b,x)},kn=(u,a,d,m,g,v,k,b,x)=>{a.slotScopeIds=b,u==null?a.shapeFlag&512?g.ctx.activate(a,d,m,k,x):bs(a,d,m,g,v,k,x):et(u,a,x)},bs=(u,a,d,m,g,v,k)=>{const b=u.component=il(u,m,g);if(Ii(u)&&(b.ctx.renderer=Xt),ol(b),b.asyncDep){if(g&&g.registerDep(b,U),!u.el){const x=b.subTree=K(Se);Y(null,x,a,d)}return}U(b,u,a,d,g,v,k)},et=(u,a,d)=>{const m=a.component=u.component;if(mr(u,a,d))if(m.asyncDep&&!m.asyncResolved){W(m,a,d);return}else m.next=a,ur(m.update),m.update();else a.el=u.el,m.vnode=a},U=(u,a,d,m,g,v,k)=>{const b=()=>{if(u.isMounted){let{next:C,bu:y,u:B,parent:F,vnode:M}=u,D=C,j;Wt(u,!1),C?(C.el=M.el,W(u,C,k)):C=M,y&&ys(y),(j=C.props&&C.props.onVnodeBeforeUpdate)&&pt(j,F,C,M),Wt(u,!0);const L=Cs(u),lt=u.subTree;u.subTree=L,P(lt,L,f(lt.el),Ie(lt),u,g,v),C.el=L.el,D===null&&_r(u,L.el),B&&st(B,g),(j=C.props&&C.props.onVnodeUpdated)&&st(()=>pt(j,F,C,M),g)}else{let C;const{el:y,props:B}=a,{bm:F,m:M,parent:D}=u,j=Ke(a);if(Wt(u,!1),F&&ys(F),!j&&(C=B&&B.onVnodeBeforeMount)&&pt(C,D,a),Wt(u,!0),y&&ws){const L=()=>{u.subTree=Cs(u),ws(y,u.subTree,u,g,null)};j?a.type.__asyncLoader().then(()=>!u.isUnmounted&&L()):L()}else{const L=u.subTree=Cs(u);P(null,L,d,m,u,g,v),a.el=L.el}if(M&&st(M,g),!j&&(C=B&&B.onVnodeMounted)){const L=a;st(()=>pt(C,D,L),g)}(a.shapeFlag&256||D&&Ke(D.vnode)&&D.vnode.shapeFlag&256)&&u.a&&st(u.a,g),u.isMounted=!0,a=d=m=null}},x=u.effect=new tn(b,()=>Ti(_),u.scope),_=u.update=()=>x.run();_.id=u.uid,Wt(u,!0),_()},W=(u,a,d)=>{a.component=u;const m=u.vnode.props;u.vnode=a,u.next=null,Lr(u,a.props,m,d),Ur(u,a.children,d),ae(),cs(void 0,u.update),he()},bt=(u,a,d,m,g,v,k,b,x=!1)=>{const _=u&&u.children,C=u?u.shapeFlag:0,y=a.children,{patchFlag:B,shapeFlag:F}=a;if(B>0){if(B&128){ve(_,y,d,m,g,v,k,b,x);return}else if(B&256){vs(_,y,d,m,g,v,k,b,x);return}}F&8?(C&16&&vt(_,g,v),y!==_&&p(d,y)):C&16?F&16?ve(_,y,d,m,g,v,k,b,x):vt(_,g,v,!0):(C&8&&p(d,""),F&16&&jt(y,d,m,g,v,k,b,x))},vs=(u,a,d,m,g,v,k,b,x)=>{u=u||Ce,a=a||Ce;const _=u.length,C=a.length,y=Math.min(_,C);let B;for(B=0;B<y;B++){const F=a[B]=x?Et(a[B]):_t(a[B]);P(u[B],F,d,null,g,v,k,b,x)}_>C?vt(u,g,v,!0,!1,y):jt(a,d,m,g,v,k,b,x,y)},ve=(u,a,d,m,g,v,k,b,x)=>{let _=0;const C=a.length;let y=u.length-1,B=C-1;for(;_<=y&&_<=B;){const F=u[_],M=a[_]=x?Et(a[_]):_t(a[_]);if(we(F,M))P(F,M,d,null,g,v,k,b,x);else break;_++}for(;_<=y&&_<=B;){const F=u[y],M=a[B]=x?Et(a[B]):_t(a[B]);if(we(F,M))P(F,M,d,null,g,v,k,b,x);else break;y--,B--}if(_>y){if(_<=B){const F=B+1,M=F<C?a[F].el:m;for(;_<=B;)P(null,a[_]=x?Et(a[_]):_t(a[_]),d,M,g,v,k,b,x),_++}}else if(_>B)for(;_<=y;)Pt(u[_],g,v,!0),_++;else{const F=_,M=_,D=new Map;for(_=M;_<=B;_++){const nt=a[_]=x?Et(a[_]):_t(a[_]);nt.key!=null&&D.set(nt.key,_)}let j,L=0;const lt=B-M+1;let Zt=!1,Bn=0;const xe=new Array(lt);for(_=0;_<lt;_++)xe[_]=0;for(_=F;_<=y;_++){const nt=u[_];if(L>=lt){Pt(nt,g,v,!0);continue}let ft;if(nt.key!=null)ft=D.get(nt.key);else for(j=M;j<=B;j++)if(xe[j-M]===0&&we(nt,a[j])){ft=j;break}ft===void 0?Pt(nt,g,v,!0):(xe[ft-M]=_+1,ft>=Bn?Bn=ft:Zt=!0,P(nt,a[ft],d,null,g,v,k,b,x),L++)}const Tn=Zt?Jr(xe):Ce;for(j=Tn.length-1,_=lt-1;_>=0;_--){const nt=M+_,ft=a[nt],Fn=nt+1<C?a[nt+1].el:m;xe[_]===0?P(null,ft,d,Fn,g,v,k,b,x):Zt&&(j<0||_!==Tn[j]?Yt(ft,d,Fn,2):j--)}}},Yt=(u,a,d,m,g=null)=>{const{el:v,type:k,transition:b,children:x,shapeFlag:_}=u;if(_&6){Yt(u.component.subTree,a,d,m);return}if(_&128){u.suspense.move(a,d,m);return}if(_&64){k.move(u,a,d,Xt);return}if(k===wt){n(v,a,d);for(let y=0;y<x.length;y++)Yt(x[y],a,d,m);n(u.anchor,a,d);return}if(k===Fs){H(u,a,d);return}if(m!==2&&_&1&&b)if(m===0)b.beforeEnter(v),n(v,a,d),st(()=>b.enter(v),g);else{const{leave:y,delayLeave:B,afterLeave:F}=b,M=()=>n(v,a,d),D=()=>{y(v,()=>{M(),F&&F()})};B?B(v,M,D):D()}else n(v,a,d)},Pt=(u,a,d,m=!1,g=!1)=>{const{type:v,props:k,ref:b,children:x,dynamicChildren:_,shapeFlag:C,patchFlag:y,dirs:B}=u;if(b!=null&&Ls(b,null,d,u,!0),C&256){a.ctx.deactivate(u);return}const F=C&1&&B,M=!Ke(u);let D;if(M&&(D=k&&k.onVnodeBeforeUnmount)&&pt(D,a,u),C&6)lo(u.component,d,m);else{if(C&128){u.suspense.unmount(d,m);return}F&&zt(u,null,a,"beforeUnmount"),C&64?u.type.remove(u,a,d,g,Xt,m):_&&(v!==wt||y>0&&y&64)?vt(_,a,d,!1,!0):(v===wt&&y&384||!g&&C&16)&&vt(x,a,d),m&&yn(u)}(M&&(D=k&&k.onVnodeUnmounted)||F)&&st(()=>{D&&pt(D,a,u),F&&zt(u,null,a,"unmounted")},d)},yn=u=>{const{type:a,el:d,anchor:m,transition:g}=u;if(a===wt){ro(d,m);return}if(a===Fs){dt(u);return}const v=()=>{i(d),g&&!g.persisted&&g.afterLeave&&g.afterLeave()};if(u.shapeFlag&1&&g&&!g.persisted){const{leave:k,delayLeave:b}=g,x=()=>k(d,v);b?b(u.el,v,x):x()}else v()},ro=(u,a)=>{let d;for(;u!==a;)d=w(u),i(u),u=d;i(a)},lo=(u,a,d)=>{const{bum:m,scope:g,update:v,subTree:k,um:b}=u;m&&ys(m),g.stop(),v&&(v.active=!1,Pt(k,u,a,d)),b&&st(b,a),st(()=>{u.isUnmounted=!0},a),a&&a.pendingBranch&&!a.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===a.pendingId&&(a.deps--,a.deps===0&&a.resolve())},vt=(u,a,d,m=!1,g=!1,v=0)=>{for(let k=v;k<u.length;k++)Pt(u[k],a,d,m,g)},Ie=u=>u.shapeFlag&6?Ie(u.component.subTree):u.shapeFlag&128?u.suspense.next():w(u.anchor||u.el),Cn=(u,a,d)=>{u==null?a._vnode&&Pt(a._vnode,null,null,!0):P(a._vnode||null,u,a,null,null,null,d),$i(),a._vnode=u},Xt={p:P,um:Pt,m:Yt,r:yn,mt:bs,mc:jt,pc:bt,pbc:Jt,n:Ie,o:e};let xs,ws;return t&&([xs,ws]=t(Xt)),{render:Cn,hydrate:xs,createApp:Vr(Cn,xs)}}function Wt({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Gi(e,t,s=!1){const n=e.children,i=t.children;if(E(n)&&E(i))for(let o=0;o<n.length;o++){const r=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Et(i[o]),l.el=r.el),s||Gi(r,l))}}function Jr(e){const t=e.slice(),s=[0];let n,i,o,r,l;const c=e.length;for(n=0;n<c;n++){const h=e[n];if(h!==0){if(i=s[s.length-1],e[i]<h){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)l=o+r>>1,e[s[l]]<h?o=l+1:r=l;h<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}const Yr=e=>e.__isTeleport,wt=Symbol(void 0),an=Symbol(void 0),Se=Symbol(void 0),Fs=Symbol(void 0);let se=null,hn=1;function Un(e){hn+=e}function Xr(e){return e?e.__v_isVNode===!0:!1}function we(e,t){return e.type===t.type&&e.key===t.key}const hs="__vInternal",Ji=({key:e})=>e!=null?e:null,Ve=({ref:e,ref_key:t,ref_for:s})=>e!=null?J(e)||Z(e)||S(e)?{i:yt,r:e,k:t,f:!!s}:e:null;function Zr(e,t=null,s=null,n=0,i=null,o=e===wt?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ji(t),ref:t&&Ve(t),scopeId:Oi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return l?(dn(c,s),o&128&&e.normalize(c)):s&&(c.shapeFlag|=J(s)?8:16),hn>0&&!r&&se&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&se.push(c),c}const K=Qr;function Qr(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===Ar)&&(e=Se),Xr(e)){const l=le(e,t,!0);return s&&dn(l,s),hn>0&&!o&&se&&(l.shapeFlag&6?se[se.indexOf(e)]=l:se.push(l)),l.patchFlag|=-2,l}if(ul(e)&&(e=e.__vccOpts),t){t=tl(t);let{class:l,style:c}=t;l&&!J(l)&&(t.class=Gs(l)),tt(c)&&(ki(c)&&!E(c)&&(c=Q({},c)),t.style=qs(c))}const r=J(e)?1:br(e)?128:Yr(e)?64:tt(e)?4:S(e)?2:0;return Zr(e,t,s,n,i,r,o,!0)}function tl(e){return e?ki(e)||hs in e?Q({},e):e:null}function le(e,t,s=!1){const{props:n,ref:i,patchFlag:o,children:r}=e,l=t?el(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ji(l),ref:t&&t.ref?s&&i?E(i)?i.concat(Ve(t)):[i,Ve(t)]:Ve(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&le(e.ssContent),ssFallback:e.ssFallback&&le(e.ssFallback),el:e.el,anchor:e.anchor}}function Ns(e=" ",t=0){return K(an,null,e,t)}function _t(e){return e==null||typeof e=="boolean"?K(Se):E(e)?K(wt,null,e.slice()):typeof e=="object"?Et(e):K(an,null,String(e))}function Et(e){return e.el===null||e.memo?e:le(e)}function dn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(E(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),dn(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!(hs in t)?t._ctx=yt:i===3&&yt&&(yt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else S(t)?(t={default:t,_ctx:yt},s=32):(t=String(t),n&64?(s=16,t=[Ns(t)]):s=8);e.children=t,e.shapeFlag|=s}function el(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Gs([t.class,n.class]));else if(i==="style")t.style=qs([t.style,n.style]);else if(ns(i)){const o=t[i],r=n[i];r&&o!==r&&!(E(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function pt(e,t,s,n=null){ht(e,t,7,[s,n])}const sl=qi();let nl=0;function il(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||sl,o={uid:nl++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new To(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hi(n,i),emitsOptions:Ei(n,i),emit:null,emitted:null,propsDefaults:z,inheritAttrs:n.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=dr.bind(null,o),e.ce&&e.ce(o),o}let q=null;const ce=e=>{q=e,e.scope.on()},Ut=()=>{q&&q.scope.off(),q=null};function Yi(e){return e.vnode.shapeFlag&4}let Ee=!1;function ol(e,t=!1){Ee=t;const{props:s,children:n}=e.vnode,i=Yi(e);Wr(e,s,i,t),Hr(e,n);const o=i?rl(e,t):void 0;return Ee=!1,o}function rl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=yi(new Proxy(e.ctx,Mr));const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?cl(e):null;ce(e),ae();const o=At(n,e,0,[e.props,i]);if(he(),Ut(),ui(o)){if(o.then(Ut,Ut),t)return o.then(r=>{Kn(e,r,t)}).catch(r=>{ls(r,e,0)});e.asyncDep=o}else Kn(e,o,t)}else Xi(e,t)}function Kn(e,t,s){S(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tt(t)&&(e.setupState=Ci(t)),Xi(e,s)}let Vn;function Xi(e,t,s){const n=e.type;if(!e.render){if(!t&&Vn&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:c}=n,h=Q(Q({isCustomElement:o,delimiters:l},r),c);n.render=Vn(i,h)}}e.render=n.render||at}ce(e),ae(),Rr(e),he(),Ut()}function ll(e){return new Proxy(e.attrs,{get(t,s){return rt(e,"get","$attrs"),t[s]}})}function cl(e){const t=n=>{e.exposed=n||{}};let s;return{get attrs(){return s||(s=ll(e))},slots:e.slots,emit:e.emit,expose:t}}function fn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ci(yi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ts)return ts[s](e)}}))}function ul(e){return S(e)&&"__vccOpts"in e}const al=(e,t)=>or(e,t,Ee),hl="3.2.37",dl="http://www.w3.org/2000/svg",Nt=typeof document<"u"?document:null,qn=Nt&&Nt.createElement("template"),fl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t?Nt.createElementNS(dl,e):Nt.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Nt.createTextNode(e),createComment:e=>Nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{qn.innerHTML=n?`<svg>${e}</svg>`:e;const l=qn.content;if(n){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function pl(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function gl(e,t,s){const n=e.style,i=J(s);if(s&&!i){for(const o in s)Hs(n,o,s[o]);if(t&&!J(t))for(const o in t)s[o]==null&&Hs(n,o,"")}else{const o=n.display;i?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Gn=/\s*!important$/;function Hs(e,t,s){if(E(s))s.forEach(n=>Hs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ml(e,t);Gn.test(s)?e.setProperty(ue(n),s.replace(Gn,""),"important"):e[n]=s}}const Jn=["Webkit","Moz","ms"],Ps={};function ml(e,t){const s=Ps[t];if(s)return s;let n=re(t);if(n!=="filter"&&n in e)return Ps[t]=n;n=ai(n);for(let i=0;i<Jn.length;i++){const o=Jn[i]+n;if(o in e)return Ps[t]=o}return t}const Yn="http://www.w3.org/1999/xlink";function _l(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(Yn,t.slice(6,t.length)):e.setAttributeNS(Yn,t,s);else{const o=ao(t);s==null||o&&!ci(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function bl(e,t,s,n,i,o,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,i,o),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const c=s==null?"":s;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const c=typeof e[t];c==="boolean"?s=ci(s):s==null&&c==="string"?(s="",l=!0):c==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}const[Zi,vl]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let Us=0;const xl=Promise.resolve(),wl=()=>{Us=0},kl=()=>Us||(xl.then(wl),Us=Zi());function yl(e,t,s,n){e.addEventListener(t,s,n)}function Cl(e,t,s,n){e.removeEventListener(t,s,n)}function Bl(e,t,s,n,i=null){const o=e._vei||(e._vei={}),r=o[t];if(n&&r)r.value=n;else{const[l,c]=Tl(t);if(n){const h=o[t]=Fl(n,i);yl(e,l,h,c)}else r&&(Cl(e,l,r,c),o[t]=void 0)}}const Xn=/(?:Once|Passive|Capture)$/;function Tl(e){let t;if(Xn.test(e)){t={};let s;for(;s=e.match(Xn);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[ue(e.slice(2)),t]}function Fl(e,t){const s=n=>{const i=n.timeStamp||Zi();(vl||i>=s.attached-1)&&ht(Pl(n,s.value),t,5,[n])};return s.value=e,s.attached=kl(),s}function Pl(e,t){if(E(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Zn=/^on[a-z]/,$l=(e,t,s,n,i=!1,o,r,l,c)=>{t==="class"?pl(e,n,i):t==="style"?gl(e,s,n):ns(t)?Js(t)||Bl(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Sl(e,t,n,i))?bl(e,t,n,o,r,l,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),_l(e,t,n,i))};function Sl(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Zn.test(t)&&S(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Zn.test(t)&&J(s)?!1:t in e}const El=Q({patchProp:$l},fl);let Qn;function Ol(){return Qn||(Qn=qr(El))}const Al=(...e)=>{const t=Ol().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Ml(n);if(!i)return;const o=t._component;!S(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=s(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Ml(e){return J(e)?document.querySelector(e):e}let de=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,s)=>(s&=63,s<36?t+=s.toString(36):s<62?t+=(s-26).toString(36).toUpperCase():s>62?t+="-":t+="_",t),"");var Rl=Object.defineProperty,Il=Object.defineProperties,Dl=Object.getOwnPropertyDescriptors,ti=Object.getOwnPropertySymbols,jl=Object.prototype.hasOwnProperty,zl=Object.prototype.propertyIsEnumerable,ei=(e,t,s)=>t in e?Rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,si=(e,t)=>{for(var s in t||(t={}))jl.call(t,s)&&ei(e,s,t[s]);if(ti)for(var s of ti(t))zl.call(t,s)&&ei(e,s,t[s]);return e},Wl=(e,t)=>Il(e,Dl(t)),pn=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},mt=(e,t,s)=>(pn(e,t,"read from private field"),s?s.call(e):t.get(e)),Ne=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},He=(e,t,s,n)=>(pn(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),ni=(e,t,s)=>(pn(e,t,"access private method"),s),ss;(e=>{function t(f){return/^\s*class/.test(String(f))}e.classs=t;function s(f){return typeof f=="number"}e.number=s;function n(f){return typeof f=="string"}e.string=n;function i(f){return typeof f=="boolean"}e.boolean=i;function o(f){return typeof f=="function"&&!t(f)}e.fn=o;function r(f){return Array.isArray(f)}e.array=r;function l(f){return f!==null&&typeof f=="object"}e.object=l;function c(f){if(f==null)return!0;if(typeof f=="string")return!f;if(f instanceof Set||f instanceof Map)return f.size===0;if(f instanceof Array)return f.length===0;if(h(f)){for(const w of f)return!1;return!0}else if(l(f)&&Object.keys(f).length===0)return!0;return!1}e.empty=c;function h(f){return Symbol.iterator in Object(f)}e.iterable=h;function p(f){return f==null}e.nullish=p})(ss||(ss={}));function Ll(){let e,t,s="pending";const n=new Promise((i,o)=>{e=r=>{s==="pending"&&(s="fulfilled",i(r))},t=r=>{s==="pending"&&(s="rejected",o(r))}});return{get status(){return s},get isPending(){return s==="pending"},get isFulfilled(){return s==="fulfilled"},get isRejected(){return s==="rejected"},instance:n,resolve:e,reject:t}}function Nl(e){let t=!0;const s=o=>(...r)=>i(o,r);return{get isEnabled(){return t},enable(){t=!0},disable(){t=!1},log:s("info"),warn:s("warn"),error:s("error")};function n(o){if(e!==void 0)return typeof e=="string"?e:e(o)}function i(o,r){if(!t)return;const l=n(o);l===void 0?console[o](...r):console[o](l,...r)}}var qe="__$once$__",xt,Kt,Ge,Je,Ks,Rt=class{constructor(e=20,t={}){Ne(this,Je),Ne(this,xt,void 0),Ne(this,Kt,void 0),Ne(this,Ge,void 0),He(this,Kt,e),He(this,xt,{}),t.verbose&&He(this,Ge,Nl())}get limit(){return mt(this,Kt)}events(e){return e?(mt(this,xt)[e]||(mt(this,xt)[e]=new Set),mt(this,xt)[e]):mt(this,xt)}on(e,t){const s=this.events(e);return ni(this,Je,Ks).call(this,s.size),s.add(t),()=>this.off(e,t)}once(e,t){const s=this.events(e);return ni(this,Je,Ks).call(this,s.size),t[qe]=!0,s.add(t),()=>this.off(e,t)}off(e,t){return e?t?this.events(e).delete(t):(delete mt(this,xt)[e],!0):(He(this,xt,{}),!0)}emit(e,...t){const s=this.events(e),n=[];s.forEach(i=>{var o;try{i(...t)}catch(r){(o=mt(this,Ge))==null||o.warn("Invoke function error:",r)}i[qe]&&(delete i[qe],n.push(i))}),n.forEach(i=>{s.delete(i)})}};xt=new WeakMap;Kt=new WeakMap;Ge=new WeakMap;Je=new WeakSet;Ks=function(e){if(mt(this,Kt)&&e>=mt(this,Kt))throw new Error("Listeners reached limit size: "+mt(this,Kt))};Rt.SymbolOnce=qe;function Hl(e){return(t,s)=>e.reduceRight((n,i)=>()=>i(t,n),s)()}function ii(e){var i,o,r,l;var t;const n=(t=/^(?<origin>(\w+:)?\/\/[\w\d.:@]+)?(?<path>\/?[\w\d/]*)?(?<search>\??[^#]*)?(?<hash>#?.+)?$/.exec(e))==null?void 0:t.groups;return{origin:(i=n==null?void 0:n.origin)!=null?i:"",path:(o=n==null?void 0:n.path)!=null?o:"",search:(r=n==null?void 0:n.search)!=null?r:"",hash:(l=n==null?void 0:n.hash)!=null?l:"",href:e}}function Ul(e){return e.startsWith("/")}function Qi(e={}){const t=[],s=e;return{config:s,use(i){t.push(i)},request:n,get(i,o={},r={}){return r.params=Object.assign({},o,r.params),n(i,"get",r)},post(i,o={},r={}){return r.data=Object.assign({},o,r.data),n(i,"post",r)},put(i,o={},r={}){return r.data=Object.assign({},o,r.data),n(i,"put",r)},patch(i,o={},r={}){return r.data=Object.assign({},o,r.data),n(i,"patch",r)},delete(i,o={}){return n(i,"delete",o)},head(i,o={}){return n(i,"head",o)},options(i,o={}){return n(i,"options",o)},postForm(i,o={},r={}){return r.data=$s(o),n(i,"post",r)},putForm(i,o={},r={}){return r.data=$s(o),n(i,"put",r)},patchForm(i,o={},r={}){return r.data=$s(o),n(i,"patch",r)}};async function n(i,o,r={}){const c={requestConfig:Wl(si(si({},s),r),{url:i,method:o})};try{await Hl(t)(c,()=>Kl(c))}catch(h){throw c.error=h,c}return c}}async function Kl(e){const{requestConfig:t}=e,s=Ll();let n=null;t.timeout&&(n=setTimeout(()=>s.reject(t.timeoutErrorMessage||"Request timeout"),t.timeout));const i=ql(t.url,t);return fetch(i,{method:t.method,body:t.data}).finally(()=>clearTimeout(n)).then(async o=>{e.response=o;try{e.data=await Vl(o,t)}catch{throw e.data=o.body,new Error("Parse response data failed")}}).then(s.resolve).catch(s.reject),s.instance}function $s(e){const t=e instanceof FormData,s=t?e:new FormData;return t||Object.entries(e).filter(n=>!ss.nullish(n[1])).forEach(([n,i])=>{s.set(n,i instanceof Blob?i:String(i))}),s}async function Vl(e,t){switch(t.responseType){case"json":return e.json();case"text":case"document":return e.text();case"arraybuffer":return e.arrayBuffer();case"stream":return e.body;case"blob":return e.blob();default:return e.body}}function ql(e,t){const s=ii(e);if(s.origin||Ul(e))return oi(e,t.params);const n=ii(t.baseURL||""),i=n.origin+(n.path.replace(/\/$/,"")+(s.path?"/":"")+s.path)+s.search+s.hash;return oi(i,t.params)}function oi(e,t={}){const s="http://alps",n=new URL(e,s);for(const o in t){const r=t[o];ss.nullish(r)||n.searchParams.set(o,String(r))}const i=n.toString();return i.startsWith(s)?i.slice(s.length):i}var Gl=Qi();Gl.create=Qi;var to="__$rpc_timeout_error$__",eo,Jl=class extends Error{constructor(){super(...arguments),this[eo]=!0}};eo=to;Jl.S=to;function ri(e){return typeof e=="string"?e:e.id}class ds extends Array{remove(t){const s=this.findIndex(t);return s>=0?this.splice(s,1)[0]:null}removeItem(t){const s=this.indexOf(t);return s>=0?this.splice(s,1)[0]:null}pushDistinct(t){const s=this.indexOf(t)>=0;return!s&&this.push(t),s}}function gn(e,...t){console.warn(`[${e}]`,...t),console.trace()}function Yl(e,t){for(const s of e)if(t.indexOf(s)>=0)return!0;return!1}function Xl(e,t,s={}){let n=!1,i=0;const o=Object.assign({leading:!0,trailing:!1},s);let r;return function(...l){const c=new Date().getTime();if(!n&&(n=!0,i=c,o.leading)){e.apply(this,l);return}if(clearTimeout(r),c-i>=t){i=c,e.apply(this,l);return}o.trailing&&(r=window.setTimeout(()=>e.apply(this,l),t))}}function Zl(e,t,s={}){let n,i=!1,o=0;const r=Object.assign({leading:!1,trailing:!0,maxWait:t},s);return function(...l){const c=new Date().getTime();if(!i&&(o=c,i=!0,r.leading)){e.apply(this,l);return}if(clearTimeout(n),c-o>=t){e.apply(this,l),o=c;return}o=c,r.trailing&&(n=window.setTimeout(()=>e.apply(this,l),r.maxWait))}}function Ql(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}class fs{constructor(){this.ctors=new Map}get(t){return this.ctors.get(t)||null}set(t,s){this.ctors.get(t)&&gn(fs.name,`Type ${t} has exist.`),s&&this.ctors.set(t,s)}}class oe{get value(){return this._value}constructor(t){this._value=t,this._subs=new Set}sub(t){this._subs.has(t)||this._subs.add(t)}unSub(t){this._subs.delete(t)}update(t,s=!1){if(this._value===t)return;const n=this._value;if(this._value=t,!s)for(const i of this._subs)i(t,n)}}class ot{constructor(t={},s=de()){this.nextUpdate=(n,i)=>{i==null||i.previous.update(null),n==null||n.previous.update(this)},this.previousUpdate=(n,i)=>{i==null||i.next.update(null),n==null||n.next.update(this)},this.parentUpdate=(n,i)=>{i==null||i.block.update(null),n==null||n.block.update(this)},this.id=s,this.options={name:"",output:[],next:!0,previous:!0,...t},this.fields=new ds,this.next=new oe(null),this.next.sub(this.nextUpdate),this.previous=new oe(null),this.previous.sub(this.previousUpdate),this.parent=new oe(null),this.parent.sub(this.parentUpdate)}get workspace(){return this.$w}get isRoot(){return!this.previous.value&&!this.parent.value}get hasOutput(){const t=this.options.output;return t?t.length>0:!1}getField(t){return this.fields.find(s=>s.id===t||s.name===t)||null}setWorkspace(t){this.$w=t}getFieldsByRow(t=0){const s=this.fields.filter(n=>n.rowIdx===t);return s.sort((n,i)=>n.colIdx-i.colIdx),s}pushField(t,s){this.getField(t.name)&&gn(ot.name,`The same name [${t.name}] field on block ${this}`);const n=this.getFieldsByRow(s).length;s!==void 0&&(t.rowIdx=s),t.colIdx=n,t.$b=this,this.fields.pushDistinct(t)}connectToField(t){if(!t){this.parent.update(null);return}t.checkConnection(this)&&this.parent.update(t)}clone(){const t=new ot(this.options);for(const s of this.fields)t.pushField(s.clone(),s.rowIdx);return t}destroy(){this.previous.update(null),this.next.update(null),this.parent.update(null)}toString(){return`${this.id}[${this.options.name}]`}}class tc{get blocks(){return this._blocksMap}constructor(){this._blocksMap=new Map}add(t){const s=t.options.name=t.id;this._blocksMap.set(s,t)}remove(t){const s=typeof t=="string"?t:t.options.name,n=this._blocksMap.get(s);return n&&this._blocksMap.delete(s),n||null}get(t){return this._blocksMap.get(t)||null}clear(){this.destroy(),this._blocksMap.clear()}destroy(){for(const[,t]of this._blocksMap)t.destroy()}}class fe{constructor(t=de()){this.id=t,this.definedBlocks=new tc,this.blockDB=new Map,this.blockRoots=new Map}isRootBlock(t){const s=ri(t);return this.blockRoots.get(s)||!1}addRootBlock(t){this.isRootBlock(t)||this.blockRoots.set(t.id,t)}hasBlock(t){const s=ri(t);return this.blockDB.get(s)||!1}addBlock(t){this.hasBlock(t)||(this.blockDB.set(t.id,t),t.setWorkspace(this)),t.isRoot&&this.addRootBlock(t),t.next.value&&this.addBlock(t.next.value)}removeBlock(t){const s=this.hasBlock(t);return s?(s.isRoot&&this.blockRoots.delete(s.id),this.blockDB.delete(s.id),s.setWorkspace(null),s.next.value&&this.removeBlock(s.next.value),s.destroy(),s):null}connectBlock(t,s){t.isRoot&&this.blockRoots.delete(t.id),t.previous.update(s)}}class pe{constructor(t,s,n="no-type",i={}){this.blockUpdate=(o,r)=>{r==null||r.parent.update(null),o==null||o.parent.update(this)},this.name=t,this.type=n,this.hollow=i.hollow||!1,this.id=i.id||de(),this.$b=null,this.acceptInput=i.acceptInput||[],this._value=s,this.colIdx=i.colIdx||0,this.rowIdx=i.rowIdx||0,this.block=new oe(null),this.block.sub(this.blockUpdate)}get hasInput(){return this.acceptInput.length>0}get isBlock(){return!!this.block.value}getOptions(){return{acceptInput:this.acceptInput,colIdx:this.colIdx,rowIdx:this.rowIdx}}checkConnection(t){return this.hasInput&&Yl(this.acceptInput,t.options.output)}value(t){return t===void 0?this._value:(this._value=t,this._value)}clone(){return new pe(this.name,this.value(),this.type,this.getOptions())}}var G=(e=>(e.text="TEXT",e.blockSlot="BLOCK_SLOT",e.input="INPUT",e.dropdown="DROPDOWN",e))(G||{});class ps extends pe{constructor(t,s="",n={}){super(t,s,G.dropdown,n),this._parseOptions(n.options||[])}get selected(){let t=this.options.find(s=>s.key===this._value);return t=t||this.options[0]||{key:"",value:""},t}_parseOptions(t){var i,o;this.options=[];let s="",n="";for(const r of t)Array.isArray(r)?(s=r[0]||"",n=(i=r[1])!=null?i:s):(s=r.key,n=(o=r.value)!=null?o:r.key),this.options.push({key:s,value:n})}getOptions(){const t=super.getOptions();return{options:this.options,...t}}clone(){const t=new ps(this.name,this.value(),this.getOptions());return this.block.value&&this.block.value.clone().connectToField(t),t}}class gs extends pe{constructor(t,s="",n={}){super(t,s,G.input,n),this.inputType=n.inputType||"string",this.value(s)}getOptions(){const t=super.getOptions();return{inputType:this.inputType,...t}}value(t){if(t===void 0)return this._value;let s=t;if(this.inputType==="number"){const n=parseFloat(s);s=Number.isNaN(n)?"":n.toString()}return this._value=s,this._value}clone(){const t=new gs(this.name,this.value(),this.getOptions());return this.block.value&&this.block.value.clone().connectToField(t),t}}class Ae extends pe{constructor(t,s=null,n={}){super(t,s,G.blockSlot,n),this.blockChanged=(i,o)=>{this._value=i},s==null||s.connectToField(this),this.block.sub(this.blockChanged)}checkConnection(t){return!t.hasOutput}value(){return this._value}clone(){var n;const t=new Ae(this.name,null,this.getOptions()),s=(n=this.value())==null?void 0:n.clone();return s==null||s.connectToField(t),t}}class V extends pe{constructor(t,s="",n={}){super(t,s,G.text,n)}clone(){return new V(this.name,this.value()||"",this.getOptions())}}const ms=new fs;ms.set(G.text,V);ms.set(G.blockSlot,Ae);ms.set(G.dropdown,ps);ms.set(G.input,gs);class mn{get rendered(){return document.body.contains(this.dom)}get parent(){return this._parent}constructor(t){this.dom=t,this.children=new ds}getAttr(t){const s=this.dom.getAttribute(t);if(!s)return s;const n=+s;return Number.isNaN(n)?s:n}setAttr(t,s){s===null?this.dom.removeAttribute(t):this.dom.setAttribute(t,String(s))}on(t,s,n){this.dom.addEventListener(t,s,n)}off(t,s,n){this.dom.removeEventListener(t,s,n)}attr(t,s){if(typeof t=="string")if(s!==void 0)this.setAttr(t,s);else return this.getAttr(t);else Object.entries(t).forEach(([n,i])=>{this.setAttr(n,i)})}append(...t){for(const s of t)this.dom.appendChild(s.dom),this.children.pushDistinct(s),s._parent=this}remove(...t){for(const s of t)this.children.removeItem(s)&&(this.dom.removeChild(s.dom),s._parent=null)}addClasses(...t){this.dom.classList.add(...t)}removeClasses(...t){this.dom.classList.remove(...t)}destroy(){this.dom.remove(),this.children.forEach(t=>{this.remove(t),t.destroy()}),this._parent=null}}class qt extends mn{constructor(t){super(t),this.x=0,this.y=0}get bbox(){return this.dom.getBBox()}visible(t){if(t===void 0)return this.dom.style.visibility!=="hidden";this.dom.style.visibility=t?"":"hidden"}on(t,s,n){this.dom.addEventListener(t,s,n)}off(t,s,n){this.dom.removeEventListener(t,s,n)}move(t,s){this.x=t,this.y=s}dx(t){this.move(this.x+t,this.y)}dy(t){this.move(this.x,this.y+t)}dmove(t,s){this.move(this.x+t,this.y+s)}}function Ft(e){const t="http://www.w3.org/2000/svg";return document.createElementNS(t,e)}function Vt(e,t){typeof t=="string"?e.setAttribute("style",t):Object.entries(t).forEach(([n,i])=>{e.style.setProperty(n,i)})}const ne=new Rt;window.addEventListener("pointerup",e=>ne.emit("pointerup",e));window.addEventListener("pointermove",e=>ne.emit("pointermove",e));class so{constructor(t){this.setTransform=t,this.modifies=[{type:"scale",params:[]},{type:"translate",params:[]},{type:"rotate",params:[]}]}applyTransform(){const t=this.modifies.filter(s=>s.params.length>0).map(s=>`${s.type}(${s.params.join(", ")})`).join(" ");this.setTransform(t)}changeModify(t,s){const n=this.modifies.find(i=>i.type===t);n.params=s,this.applyTransform()}move(t,s){this.changeModify("translate",[t,s])}scale(t,s){s?this.changeModify("scale",[t,s]):this.changeModify("scale",[t])}rotate(t){this.changeModify("rotate",[`${t}deg`])}}class _n extends oe{get width(){return this.value.width}get height(){return this.value.height}constructor(t=0,s=0){super({width:t,height:s})}}class bn extends Rt{constructor(...t){super(),this.doms=t,this._isDragging=!1,this._pointerdown=this._pointerdown.bind(this),this._pointerup=this._pointerup.bind(this),this._pointermove=this._pointermove.bind(this);for(const s of this.doms)s.addEventListener("pointerdown",this._pointerdown),s.classList.add("s_dragger");ne.on("pointermove",this._pointermove),ne.on("pointerup",this._pointerup)}get isDragging(){return this._isDragging}_pointerdown(t){this._isDragging=!0,this.emit("dragstart",t),document.documentElement.classList.add("s_dragger_dragging");for(const s of this.doms)s.classList.add("s_dragger_dragging")}_pointermove(t){!this.isDragging||this.emit("dragging",t.movementX,t.movementY,t)}_pointerup(t){this._isDragging=!1,this.emit("dragend",t),document.documentElement.classList.remove("s_dragger_dragging");for(const s of this.doms)s.classList.remove("s_dragger_dragging")}destroy(){for(const t of this.doms)t.removeEventListener("pointerdown",this._pointerdown);ne.off("pointerup",this._pointerup),ne.off("pointermove",this._pointermove)}}const ec=document.createElement("div");class sc{constructor(){this.dom=ec,this.actived=!1,this._initRootDom()}_initRootDom(){this.dom.classList.add("s_float_weight"),document.body.append(this.dom)}show(){this.actived=!0,this.dom.classList.remove("s_float_weight_hide"),this.dom.classList.add("s_float_weight_show")}hide(){this.actived=!1,this.dom.classList.remove("s_float_weight_show"),this.dom.classList.add("s_float_weight_hide")}toggle(){this.actived?this.hide():this.show()}move(t,s){this.x=t,this.y=s,Vt(this.dom,{left:`${t}px`,top:`${s}px`})}clear(){this.dom.innerHTML=""}replace(...t){this.clear(),this.dom.append(...t)}append(...t){this.dom.append(...t)}destroy(){this.dom.remove()}}class nc extends qt{constructor(){super(Ft("defs"))}}class no extends qt{constructor(t=600,s=400){super(Ft("svg")),this.size=new _n(t,s),this.attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:t,height:s}),this.defs=new nc,this.append(this.defs)}mount(t){t.appendChild(this.dom)}}class ic{constructor(t){this.el=t,this.clear()}pushCoords(t){for(let n=0;n<t.length&&!(n+2>t.length);n+=2)this.path.push(`${t[n]},${t[n+1]}`)}d(t,s,n=1){this.path.push(t);for(let i=0;i<s.length&&!(i+n>s.length);i+=n){const o=s.slice(i,i+n);n%2===0?this.pushCoords(o):this.path.push(...o)}return this}clear(){this.path=[]}done(){const t=this.path.join(" ");this.el.updatePath(t)}H(...t){return this.d("H",t)}h(...t){return this.d("h",t)}V(...t){return this.d("V",t)}v(...t){return this.d("v",t)}M(...t){return this.d("M",t,2)}m(...t){return this.d("m",t,2)}L(...t){return this.d("L",t,2)}l(...t){return this.d("l",t,2)}T(...t){return this.d("T",t,2)}t(...t){return this.d("t",t,2)}S(...t){return this.d("S",t,4)}s(...t){return this.d("s",t,4)}Q(...t){return this.d("Q",t,4)}q(...t){return this.d("q",t,4)}C(...t){return this.d("C",t,6)}c(...t){return this.d("c",t,6)}A(t,s,n,i,o,r,l){return this.path.push("A",t,s,n,i,o,`${r},${l}`),this}a(t,s,n,i,o,r,l){return this.path.push("a",t,s,n,i,o,`${r},${l}`),this}Z(){this.d("Z",[]),this.done()}z(){this.d("z",[]),this.done()}}class vn extends qt{constructor(){super(Ft("path")),this.d=new ic(this),this.addClasses("s_path")}updatePath(t){this.attr("d",t)}}class It extends qt{constructor(){super(Ft("g")),this.trans=new so(t=>{this.attr("transform",t)})}move(t,s){super.move(t,s),this.trans.move(t,s)}}class xn extends qt{constructor(t=""){super(Ft("text")),this.text(t),this.addClasses("s_text")}move(t,s){super.move(t,s),s+=this.bbox.height,s-=3,this.attr({x:t,y:s})}text(t){if(t===void 0)return this.dom.textContent||"";this.dom.textContent=t}}class Ct extends qt{constructor(t,s,n=0,i){super(Ft("rect")),this._size={width:t,height:s},i=i||n,this.attr({width:t,height:s,rx:n,ry:i})}get width(){return this._size.width}get height(){return this._size.height}setSize(t,s){this._size.width=t,this._size.height=s,this.attr({width:t,height:s})}move(t,s){super.move(t,s),this.attr({x:t,y:s})}}class li extends It{constructor(t,s=100,n=!1,i=2){super(),this._disabledChanged=o=>{this.attr("disabled",!!o||null)},this.ratio=t,this._view={thickness:i,length:s},this.isVertical=n,this.disabled=new oe(!1),this.currentPercentage=0,this.events=new Rt,this._initSVG(),this.addClasses("s_scroll"),this.disabled.sub(this._disabledChanged),this.dragger=new bn(this.scrollBar.dom),this._initDragger()}get scrollLength(){return this.length*(1-this.ratio)}get length(){return this._view.length}get thickness(){return this._view.thickness}_initDragger(){this.dragger.on("dragging",(t,s)=>{const n=(this.isVertical?s:t)/this.scrollLength;this.scrollTo(this.currentPercentage+n),this.events.emit("scroll",this.currentPercentage)})}_initSVG(){this.isVertical?(this.background=new Ct(this.thickness,this.length,this.thickness/2),this.scrollBar=new Ct(this.thickness,this.length*this.ratio,this.thickness/2)):(this.background=new Ct(this.length,this.thickness,this.thickness/2),this.scrollBar=new Ct(this.length*this.ratio,this.thickness,this.thickness/2)),this.background.addClasses("s_scroll_background"),this.scrollBar.addClasses("s_scroll_bar"),this.append(this.background),this.append(this.scrollBar),this.scrollTo(this.currentPercentage)}_updateCurrent(){const t=this.scrollLength*this.currentPercentage;this.isVertical?this.scrollBar.move(0,t):this.scrollBar.move(t,0)}resize(){this.isVertical?(this.background.attr({width:this.thickness,height:this.length}),this.scrollBar.attr({width:this.thickness,height:this.length*this.ratio})):(this.background.attr({width:this.length,height:this.thickness}),this.scrollBar.attr({width:this.length*this.ratio,height:this.thickness}))}setRatio(t){this.ratio=t,this.resize()}setViewport(t,s){this._view.length=t,this._view.thickness=s!=null?s:this.thickness,this.resize()}scrollTo(t){this.disabled.value||(this.currentPercentage=t<0?0:t>=1?1:t,this._updateCurrent())}destroy(){super.destroy(),this.dragger.destroy()}}class oc extends It{constructor(t,s,n,i,o=2){super(),this._positionChanged=Xl(this._positionChanged,1e3/60,{trailing:!0}),this.events=new Rt,this.thickness=o,this.size=new _n(n,i),this.currentPercentage={x:0,y:0},this._initSVG(s,i,t,n),this.setRatio(t,s),this.setSize(n,i),this.addClasses("s_scrolls")}_initSVG(t,s,n,i){this.vertical=new li(t,s-this.thickness,!0,this.thickness),this.vertical.addClasses("s_scrolls_vertical"),this.vertical.events.on("scroll",o=>this._positionChanged("y",o)),this.horizontal=new li(n,i-this.thickness,!1,this.thickness),this.horizontal.addClasses("s_scrolls_horizontal"),this.horizontal.events.on("scroll",o=>this._positionChanged("x",o)),this.setVisible()}_positionChanged(t,s){this.currentPercentage[t]=s,this.events.emit("scroll",this.currentPercentage)}scrollTo(t,s){this.horizontal.scrollTo(t),this.vertical.scrollTo(s),this.currentPercentage.x=t,this.currentPercentage.y=s}setVisible(t=!0,s=!0){const n=(i,o=!0)=>{o?i.parent!==this&&this.append(i):this.remove(i),i.disabled.update(!o)};n(this.horizontal,t),n(this.vertical,s)}setDisabled(t=!1,s=!1){this.horizontal.disabled.update(t),this.vertical.disabled.update(s)}setSize(t,s){this.size.update({width:t,height:s}),this.horizontal.setViewport(t-this.thickness),this.horizontal.move(0,s-this.thickness),this.vertical.setViewport(s-this.thickness),this.vertical.move(t-this.thickness,0)}setRatio(t,s){this.horizontal.setRatio(t),this.vertical.setRatio(s)}destroy(){super.destroy()}}class rc extends It{constructor(t,s){super(),this.events=new Rt,this.setSize(t,s)}get bbox(){const t=this.dom.getBBox();if(this.width>t.width+this.width/2){const s=this.width-t.width;t.x-=s/2-t.width/2,t.width=s}if(this.height>t.height+this.height/2){const s=this.height-t.height;t.y-=s/2-t.height/2,t.height=s}return t}get totalWidth(){return this.bbox.width+this.width}get totalHeight(){return this.bbox.height+this.height}get moveRange(){const t=this.bbox,s={x:t.x-this.width/2,y:t.y-this.height/2};return{width:t.width,height:t.height,left:-(s.x+t.width),top:-(s.y+t.height),right:-s.x,bottom:-s.y}}get currentPercentage(){const t=this.moveRange;let s=(this.x-t.left)/t.width,n=(this.y-t.top)/t.height;return s<0&&(s=0),s>1&&(s=1),n<0&&(n=0),n>1&&(n=1),{x:+(1-s).toFixed(8),y:+(1-n).toFixed(8)}}setSize(t,s){this.width=t,this.height=s;const{x:n,y:i}=this.currentPercentage;this.moveTo(n,i)}moveTo(t,s){const n=this.moveRange,i=n.left+(1-t)*n.width,o=n.top+(1-s)*n.height;this.move(i,o)}move(t,s){const n=this.moveRange;t<n.left&&(t=n.left),t>n.right&&(t=n.right),s<n.top&&(s=n.top),s>n.bottom&&(s=n.bottom),super.move(t,s)}}class io extends It{constructor(t,s){super(),this.resize=Zl(this.resize,100),this.addClasses("s_area"),this.size=new _n(t,s),this.events=new Rt,this._initSVG(t,s),this._initDragger(),this.resize()}_initSVG(t,s){this.background=new Ct(t,s),this.background.addClasses("s_area_background"),this.content=new rc(t,s),this.content.addClasses("s_area_content"),this.scrolls=new oc(1,1,t,s,5),this.scrolls.events.on("scroll",this._scrollCurrentChanged.bind(this)),this.append(this.background),this.append(this.content),this.append(this.scrolls)}_scrollCurrentChanged(t){const s=this.content.moveRange,n=this.content.currentPercentage,i=(t.x-n.x)*s.width,o=(t.y-n.y)*s.height;this.content.moveTo(t.x,t.y),this.events.emit("move",i,o)}_initDragger(){this.dragger=new bn(this.background.dom),this.dragger.on("dragging",(t,s)=>{const n={x:this.content.currentPercentage.x,y:this.content.currentPercentage.y};this.content.dmove(t,s);const{x:i,y:o}=this.content.currentPercentage;this.scrolls.scrollTo(i,o);const r=this.content.moveRange,l=(i-n.x)*r.width,c=(o-n.y)*r.height;this.events.emit("move",l,c)})}displayAtTop(t){this.content.append(t)}scrollTo(t,s){this.content.moveTo(t,s),this.scrolls.scrollTo(t,s)}resize(){const{width:t,height:s}=this.size;this.background.setSize(t,s),this.content.setSize(t,s),this.scrolls.setSize(t,s),this.scrolls.setRatio(t/this.content.totalWidth,s/this.content.totalHeight),this.scrolls.scrollTo(this.content.currentPercentage.x,this.content.currentPercentage.y)}setSize(t,s){this.size.update({width:t,height:s}),this.resize()}appendContent(...t){for(const s of t)s.dmove(-this.content.x,-this.content.y),this.content.append(s);this.resize()}removeContent(...t){this.content.remove(...t),this.resize()}destroy(){super.destroy(),this.dragger.destroy()}}class oo extends mn{constructor(t,s,n=de()){super(Ft("pattern")),this.id=n,this.x=0,this.y=0,this.addClasses("s_pattern"),this.attr({id:n,width:t,height:s,patternUnits:"userSpaceOnUse"}),this.rect=new Ct(t,s),this.rect.addClasses("s_pattern_grid"),this.append(this.rect),this.trans=new so(i=>{this.attr("patternTransform",i)})}scale(t){this.trans.scale(t)}move(t,s){this.x=t,this.y=s,this.attr({x:t,y:s})}dmove(t,s){this.move(this.x+t,this.y+s)}}class lc extends mn{constructor(t=de()){super(Ft("filter")),this.id=t,this.attr("id",this.id),this.dom.innerHTML=`
  <feGaussianBlur in="SourceAlpha" stdDeviation="3"/> 
  <feOffset dx="2" dy="2" result="offsetblur"/> 
  <feComponentTransfer>
    <feFuncA type="linear" slope="0.5"/> 
  </feComponentTransfer>
  <feMerge> 
    <feMergeNode/> 
    <feMergeNode in="SourceGraphic"/> 
  </feMerge>
    `}}class cc extends qt{constructor(t=""){super(Ft("image")),this.attr("href",t),this.addClasses("s_image")}move(t,s){super.move(t,s),this.attr({x:t,y:s})}href(t){return this.attr("href",t||null)}}var ct=(e=>(e.blockPrevious="block-previous",e.blockNext="block-next",e.blockOutput="block-output",e.slotField="field",e))(ct||{});class uc{get isConnected(){return!!this.targetConnection}constructor(t,s){this.acceptTypes=[],this.isActive=!1,this.targetConnection=null,this.oldTargetConnection=null,this.connectAction=s.connectAction,this.dx=s.dx||0,this.dy=s.dy||0,this.sourceBlock=t,this.type=s.type,this.acceptTypes=s.acceptTypes||[]}setActive(t){this.isActive=t,this.isActive?this.sourceBlock.addClasses("s_conn_active"):this.sourceBlock.removeClasses("s_conn_active")}checkDestConn(t){const s=!!this.acceptTypes.find(i=>i===t.type),n=t.isConnected;return s&&!n}connectTo(t,s=!1){var n,i;this.targetConnection!==t&&(this.oldTargetConnection=this.targetConnection,this.targetConnection=t,this.connectAction(s,this.targetConnection,this.oldTargetConnection),t?(i=this.targetConnection)==null||i.connectTo(this,!0):(n=this.oldTargetConnection)==null||n.connectTo(null))}}class ac extends It{constructor(t,s,n={}){super(),this._outputConnAction=(i,o)=>{},this._nextConnAction=(i,o)=>{var h;if(this.$b.next.update((o==null?void 0:o.sourceBlock.$b)||null),i||!o)return;const r=o.sourceBlock.getWorldPosition(),l=this.getWorldPosition();l.x+=this.nextConnection.dx,l.y+=this.nextConnection.dy;const c={x:r.x-l.x,y:r.y-l.y};this.getTopBlock().dmove(c.x,c.y),this.append(o.sourceBlock),o.sourceBlock.move(this.nextConnection.dx,this.nextConnection.dy),(h=this.inSlotField())==null||h.updateShape()},this._previousConnAction=(i,o)=>{var r,l;if(this.$b.previous.update((o==null?void 0:o.sourceBlock.$b)||null),i||!o){(r=this.inSlotFieldBefore())==null||r.updateShape();return}o.sourceBlock.append(this),this.move(o.dx,o.dy),(l=this.inSlotField())==null||l.updateShape()},this.events=new Rt,this.addClasses("s_block"),this._isFirstTimeToRender=!0,this.options={x:0,y:0,draggable:!0,type:"",...n},this.$r=s,this.$b=t,this.fields=[],this.move(this.options.x,this.options.y),this._initBackground(),this._initFieldSVG(),this._initDragger(),this._initConnections(),this.updateShape()}get nextBlock(){var t,s;return(s=(t=this.nextConnection)==null?void 0:t.targetConnection)==null?void 0:s.sourceBlock}get previousBlock(){var t,s;return(s=(t=this.previousConnection)==null?void 0:t.targetConnection)==null?void 0:s.sourceBlock}_initConnections(){this.$b.options.previous&&(this.previousConnection=this.$r.connectionManager.createConnection(this,{type:ct.blockPrevious,acceptTypes:[ct.blockNext,ct.slotField],connectAction:this._previousConnAction})),this.$b.options.next&&(this.nextConnection=this.$r.connectionManager.createConnection(this,{type:ct.blockNext,acceptTypes:[ct.blockPrevious],connectAction:this._nextConnAction})),this.$b.options.output.length&&(this.outputConnection=this.$r.connectionManager.createConnection(this,{type:ct.blockOutput,acceptTypes:[],connectAction:this._outputConnAction}))}_initBackground(){this.background=new vn,this.background.addClasses("s_block_background"),this.append(this.background)}_initDragger(){if(!this.options.draggable)return;const t=this.fields.flat().filter(s=>s.$f.type===G.text).map(s=>s.svg.dom);this.dragger=new bn(this.background.dom,...t),this.dragger.on("dragging",(s,n)=>{this.dmove(s,n)}),this.dragger.on("dragstart",()=>{const s=this.$r.effects.dragging.id;Vt(this.dom,{filter:`url(#${s})`}),this.addClasses("s_block_dragging")}),this.dragger.on("dragend",()=>{Vt(this.dom,{filter:""}),this.removeClasses("s_block_dragging")})}_initFieldSVG(){for(const t of this.$b.fields){const s=this.$r.fieldFactory.get(t.type);if(s){const n=new s(this,t);this._addField(n,t.rowIdx),this.append(n.svg)}}}_addField(t,s=0){this.fields[s]=this.fields[s]||new ds,this.fields[s].pushDistinct(t)}_updateFieldsInline(t,s){const n=this.$r.rendererOptions.block;let i=0;const o=t.reduce((l,c)=>l+c.svg.bbox.width,0)+n.fieldGap*(t.length-1),r=Math.max(...t.map(l=>l.svg.bbox.height));for(let l=0;l<t.length;l++){const c=t[l],h=t[l-1];i=l===0?n.horizontalPadding:n.fieldGap;const f=s+(r-c.svg.bbox.height)/2;h&&(i+=h.svg.x+h.svg.bbox.width),c.svg.move(i,f)}return{width:o,height:r}}_updateSlotField(t,s){var r;const n=this.$r.rendererOptions.block,i=(r=t.connection.targetConnection)==null?void 0:r.sourceBlock;t.svg.move(n.slotWidth,s),t.updateConnPosition(n.slotWidth,s);const o={width:0,height:n.emptyHeight};return i&&(o.height=i.getContentHeightWithAllNextBlocks()),o}_updateJoinStartShape(){const t=this.$r.rendererOptions.block;this.background.d.h(t.joinStartWidth),this.$b.options.previous?this.background.d.v(-t.joinHeight).h(t.joinWidth).v(t.joinHeight):this.background.d.h(t.joinWidth)}_updateMultiRowFields(t,s,n=!1){const i=this.$r.rendererOptions.block;let o={width:0,height:0};if(n)o=this._updateSlotField(t[0][0],s);else{const r={width:0,height:0};let l=s+i.verticalPadding;for(const c of t){const h=this._updateFieldsInline(c,l);r.width=Math.max(r.width,h.width),r.height+=h.height,l+=h.height}o.width=r.width,o.height=r.height+i.verticalPadding*2}return o}_firstTimeToUpdateShape(){if(!!this._isFirstTimeToRender){this._isFirstTimeToRender=!0;for(const t of this.fields)for(const s of t)s.initShape()}}getWorldPosition(){let t=this,s={x:t.x,y:t.y};for(;t!=null&&t.previousBlock;)t=t.previousBlock||null,t&&(s.x+=t.x,s.y+=t.y);return s}inSlotFieldBefore(){var s,n;let t=(s=this.previousConnection)==null?void 0:s.oldTargetConnection;for(;t;){if(t.type===ct.slotField){const i=t.sourceBlock;return i===this?null:i}t=(n=t.sourceBlock.previousConnection)==null?void 0:n.targetConnection}return null}inSlotField(){var s;let t=this;for(;(s=t.previousConnection)!=null&&s.targetConnection;){if(t.previousConnection.targetConnection.type===ct.slotField){const n=t.previousConnection.targetConnection.sourceBlock;return n===this?null:n}t=t.previousConnection.targetConnection.sourceBlock}return null}getContentHeightWithAllNextBlocks(){const s=this.$r.rendererOptions.block.joinHeight;return this.bbox.height-(this.$b.options.previous?s:0)}getFieldRowCount(){return this.fields.length}getFieldsByRow(t=0){const s=this.fields[t]||[];return s.sort((n,i)=>n.$f.colIdx-i.$f.colIdx),s}isRootBlock(){var t,s;return!((s=(t=this.previousConnection)==null?void 0:t.targetConnection)!=null&&s.sourceBlock)}getTopBlock(){let t=this;for(;t.previousBlock;)t=t.previousBlock;return t}getTrialBlock(){let t=this;for(;t.nextBlock;)t=t.nextBlock;return t}updateOutputShape(){this.background.d.clear(),this.background.d.M(0,0).done()}updateShape(){var R;if(!this.rendered)return;if(this._firstTimeToUpdateShape(),this.$b.hasOutput){this.updateOutputShape();return}this.background.d.clear(),this.background.d.M(0,0),this._updateJoinStartShape();const t=$=>!!$.length&&$[0].$f.type===G.blockSlot,s=($,P)=>{const O=[$],Y=t($);let N=this.fields[P+1];for(;N;){const H=Y&&t(N),dt=!Y&&!t(N);if(H||dt)O.push(N),P+=1,N=this.fields[P+1];else break}return O},n=this.$r.rendererOptions.block,i=n.joinHeight,o=n.joinWidth,r=n.joinStartWidth,l=n.slotWidth,c=n.horizontalPadding,h=n.emptyHeight,p=this.getFieldRowCount(),f=[],w=[];let T=0;for(let $=0;$<p;$++){const P=this.fields[$],O=$===0,Y=t(P),N=s(P,$);$+=N.length-1;const H=this._updateMultiRowFields(N,T,Y);if(T+=H.height,f.push(H),w.push(Y),Y){const Dt=f[f.length-2].width+c*2;this.background.d.h(-(Dt-l-r-o)).v(-i).h(-o).v(i).h(-r).v(H.height)}else{const Dt=H.width+c*2-(O?r+o:l),me=H.height;this.background.d.h(Dt).v(me)}}if(w[w.length-1]===!0)this.background.d.h(40).v(h).h(-(40+l-o-r));else{const P=f[f.length-1].width+c*2;this.background.d.h(-(P-r-o))}this.$b.options.next?this.background.d.v(-i).h(-o).v(i):this.background.d.h(-o),this.background.d.h(-r).z(),this.updateConnectionPosition(),(R=this.inSlotField())==null||R.updateShape()}updateConnectionPosition(){var s;const t=this.$r.rendererOptions.block;if(this.previousConnection&&(this.previousConnection.dx=0,this.previousConnection.dy=0),this.nextConnection){this.nextConnection.dx=0;const n=this.background.bbox.height-(this.$b.options.previous?t.joinHeight:0);n!==this.nextConnection.dy&&(this.nextConnection.dy=n,(s=this.nextConnection.targetConnection)==null||s.sourceBlock._previousConnAction(!1,this.nextConnection,null))}this.outputConnection&&(this.outputConnection.dx=0,this.outputConnection.dy=0)}destroy(){this.events.emit("beforeDestroy"),this.dragger.destroy(),super.destroy()}}class wn extends io{constructor(t,s,n,i){super(n,i),this.currentSelectedBlock=null,this.$r=s,this.$w=t,this.blocks=new ds,this._initGrid()}_initGrid(){const t=this.$r.effects.grid;Vt(this.background.dom,{fill:`url(#${t.id})`}),this.events.on("move",(s,n)=>{t.dmove(-s,-n)})}addBlock(t,s=0,n=0){const i=this.$w.definedBlocks.get(t);if(!i){gn(wn.name,"Not found block definition: ",t);return}const o=i.clone(),r=new ac(o,this.$r,{x:s,y:n,type:t});return this.$w.addBlock(o),this.blocks.pushDistinct(r),this.appendContent(r),r.updateShape(),r.dragger.on("dragstart",()=>{var l,c;(l=this.currentSelectedBlock)==null||l.removeClasses("s_block_selected"),this.currentSelectedBlock=r,(c=this.currentSelectedBlock)==null||c.addClasses("s_block_selected"),this.displayAtTop(r),this.events.emit("select-block",r)}),r.dragger.on("dragging",()=>{this.events.emit("block-move",r)}),r.dragger.on("dragend",()=>{this.resize()}),r}removeBlock(t){const s=typeof t=="string"?this.blocks.remove(n=>n.$b.id===t):this.blocks.removeItem(t);s&&(this.removeContent(s),s.destroy())}displayAtTop(t){const s=t.getWorldPosition();t.move(s.x,s.y),super.displayAtTop(t)}}class _s{constructor(t,s,n){this.$f=s,this.svg=n,this.$b=t,this.svg.addClasses("s_field")}initShape(){}release(){this.svg.removeClasses("s_field_focus"),this.$b.$r.currentActiveField=void 0}focus(){this.svg.addClasses("s_field_focus"),this.$b.$r.currentActiveField=this}}class hc extends _s{constructor(t,s){super(t,s,new It),this.focus=()=>{super.focus();const n=this.$b.$r.floatWeight,i=this._buildSelector();n.replace(i),i.onclick=o=>{const l=o.target.getAttribute("key");this.$f.value(l),this.text.text(this.$f.selected.value),n.hide(),super.release(),this.updateShape()},n.toggle()},this.iconConfig={padding:5,size:26},this.svg.addClasses("s_field_dropdown"),this._initBackground(),this._initBackgroundText(),this._initBackgroundDropdownIcon()}_initBackgroundDropdownIcon(){this.icon=new cc(this.$b.$r.assets.get("./icons/caret-down.svg")),this.icon.addClasses("s_field_dropdown_icon");const t=this.iconConfig.size;this.icon.attr({width:t,height:t}),this.svg.append(this.icon),this.icon.on("click",this.focus)}_initBackgroundText(){this.text=new xn(this.$f.selected.value),this.text.addClasses("s_field_dropdown_text"),this.svg.append(this.text),this.text.on("click",this.focus)}_initBackground(){this.background=new vn,this.background.addClasses("s_field_dropdown_background"),this.svg.append(this.background),this.background.on("click",this.focus)}_updateBackgroundShape(){this.background.d.clear();const t=this.text.bbox,s=5;t.width+=this.iconConfig.padding+this.iconConfig.size,this.background.d.M(0,0).h(t.width+s*2).v(t.height+s*2).h(-(t.width+s*2)).v(-(t.height+s*2)).z(),this.text.move(s,s)}_buildSelector(){const t=this.svg.dom.getBoundingClientRect(),s=document.createElement("div");s.classList.add("s_field_dropdown_select");for(const o of this.$f.options){const r=document.createElement("div");r.classList.add("s_field_dropdown_select_option"),r.setAttribute("key",o.key),r.setAttribute("value",o.value),r.innerText=o.value,s.append(r)}const i=this.svg.bbox.height;return Vt(s,{position:"fixed",left:`${t.left}px`,top:`${t.top+i}px`,width:`${t.width}px`}),s}initShape(){this._updateBackgroundShape();const t=this.text.x+this.text.bbox.width;this.icon.move(t+this.iconConfig.padding,0)}updateShape(){this._updateBackgroundShape(),this.$b.updateShape()}}class dc extends _s{constructor(t,s){super(t,s,new It),this.focus=()=>{super.focus();const n=this.$b.$r.floatWeight,i=this._buildInput();i.addEventListener("keydown",o=>{o.key==="Enter"&&n.hide()}),n.replace(i),n.toggle(),i.focus()},this.svg.addClasses("s_field_input"),this._initBackground(),this._initBackgroundText()}_initBackgroundText(){this.text=new xn(this.$f.value()),this.text.addClasses("s_field_input_text"),this.svg.append(this.text),this.text.on("click",this.focus)}_initBackground(){this.background=new vn,this.background.addClasses("s_field_input_background"),this.svg.append(this.background),this.background.on("click",this.focus)}_buildInput(){const t=document.createElement("input"),s=this.svg.dom.getBoundingClientRect();return Vt(t,{position:"fixed",outline:"none",border:"none",left:`${s.left}px`,top:`${s.top}px`,width:`${s.width}px`,height:`${s.height}px`}),t.addEventListener("input",n=>{const i=t.value;this.text.text(i),this.$f.value(i),this.updateShape();const o=this.svg.dom.getBoundingClientRect();Vt(t,{left:`${o.left}px`,top:`${o.top}px`,width:`${o.width}px`,height:`${o.height}px`})}),t.value=this.$f.value(),t}_updateBackgroundShape(){this.background.d.clear();const t=this.text.bbox,s=5;this.background.d.M(0,0).h(t.width+s*2).v(t.height+s*2).h(-(t.width+s*2)).v(-(t.height+s*2)).z(),this.text.move(s,s)}initShape(){this._updateBackgroundShape()}updateShape(){this._updateBackgroundShape(),this.$b.updateShape()}}class fc extends _s{constructor(t,s){super(t,s,new It),this._connAction=(n,i)=>{var c;if(this.$f.block.update(((c=i==null?void 0:i.targetConnection)==null?void 0:c.sourceBlock.$b)||null),this.$b.updateShape(),!i||n)return;const o=i.sourceBlock.getWorldPosition(),r=this.$b.getWorldPosition();r.x+=this.connection.dx,r.y+=this.connection.dy;const l={x:o.x-r.x,y:o.y-r.y};this.$b.getTopBlock().dmove(l.x,l.y),this.$b.append(i.sourceBlock),i.sourceBlock.move(this.connection.dx,this.connection.dy)},this.svg.addClasses("s_field_slot"),this.connection=this.$b.$r.connectionManager.createConnection(this.$b,{dx:0,dy:0,type:ct.slotField,acceptTypes:[ct.blockPrevious],connectAction:this._connAction})}_updateConnectedBlockPosition(){var s;const t=(s=this.connection.targetConnection)==null?void 0:s.sourceBlock;!t||t.isRootBlock()||t.move(this.connection.dx,this.connection.dy)}updateConnPosition(t,s){this.svg.move(t,s),this.connection.dx=t,this.connection.dy=s,this._updateConnectedBlockPosition()}}class pc extends _s{constructor(t,s){super(t,s,new xn),this.svg.addClasses("s_field_text"),this.svg.text(this.$f.value()||"")}}class gc{constructor(t,s=10){this.$r=t,this.connections=new Set,this.maxRange=s}createConnection(t,s){let n=new uc(t,s);return this.connections.add(n),t.events.on("beforeDestroy",()=>{this.connections.delete(n)}),n}getNearestConn(t){if(t.isConnected)return null;let s=null,n=1/0;for(const i of this.connections){if(t.sourceBlock===i.sourceBlock||!t.checkDestConn(i))continue;const o=i.sourceBlock.getWorldPosition(),r=t.sourceBlock.getWorldPosition(),l=Ql({x:i.dx+o.x,y:i.dy+o.y},{x:t.dx+r.x,y:t.dy+r.y});l<this.maxRange&&l<n&&(n=l,s=i)}return s}getNearestConnPair(...t){let s=null;for(const n of t){if(!n)continue;const i=this.getNearestConn(n);i&&(s={from:n,to:i})}return s}}class mc{constructor(t="."){this.root=t}get(t){return this.root+"/"+t}}class ge{constructor(t,s=600,n=400,i){this._blockMoving=o=>{var c,h,p,f;(c=this.currentActiveField)==null||c.release(),this.floatWeight.actived&&this.floatWeight.hide(),o.previousConnection&&o.previousConnection.connectTo(null),(p=(h=this.currentActiveConnPair)==null?void 0:h.to)==null||p.setActive(!1);const r=w=>{const T=[],R=w.fields.flat().filter($=>$.$f.type===G.blockSlot);for(const $ of R)if($.connection.targetConnection){const P=$.connection.targetConnection.sourceBlock;T.push(...l(P))}else T.push($.connection);return T},l=w=>{const T=[];if(T.push(...r(w)),w.nextConnection)if(w.nextBlock){const R=l(w.nextBlock);T.push(...R)}else T.push(w.nextConnection);return T};this.currentActiveConnPair=this.connectionManager.getNearestConnPair(o.previousConnection,o.outputConnection,o.getTrialBlock().nextConnection,...l(o)),(f=this.currentActiveConnPair)==null||f.to.setActive(!0)},this.effects={},this.fieldFactory=new fs,this.currentActiveConnPair=null,this.connectionManager=new gc(this),this.floatWeight=new sc,this._initRendererOptions(i),this.assets=new mc(this.rendererOptions.assetsRoot),this._registerAllFields(),this._initWorkspaceSVG(t,s,n)}_initRendererOptions(t){const s={block:{joinHeight:4,joinWidth:10,joinStartWidth:10,slotWidth:5,emptyHeight:20,fieldGap:5,horizontalPadding:8,verticalPadding:6},assetsRoot:"."};this.rendererOptions=Object.assign({},s,t)}_initWorkspaceSVG(t,s,n){this.svg=new no(s,n),this._initEffects(),this.$w=new wn(t,this,s,n),this.svg.append(this.$w),this.$w.events.on("select-block",this._blockMoving),this.$w.events.on("block-move",this._blockMoving),this.$w.dragger.on("dragstart",()=>{var i;(i=this.currentActiveField)==null||i.release(),this.floatWeight.hide()}),this.$w.dragger.on("dragend",()=>{var i,o;(i=this.currentActiveConnPair)==null||i.from.connectTo(this.currentActiveConnPair.to),(o=this.currentActiveConnPair)==null||o.to.setActive(!1)})}_initEffects(){const t=new lc;this.svg.defs.append(t);const s=new oo(40,40);this.svg.defs.append(s),this.registerEffect("dragging",t),this.registerEffect("grid",s)}_registerAllFields(){this.fieldFactory.set(G.text,pc),this.fieldFactory.set(G.blockSlot,fc),this.fieldFactory.set(G.input,dc),this.fieldFactory.set(G.dropdown,hc)}mount(t){this.dom=t,this.svg.mount(t)}registerEffect(t,s){this.effects[t]=s,this.svg.defs.dom.append(s.dom)}}const Gt=(e,t="BlockProgram")=>Ri({name:t,setup(){const s=Oe({id:de()});return ji(()=>{const n=document.getElementById(s.id);e(n)}),()=>K("div",{id:s.id},null)}}),_c=Gt(e=>{const t=new no(600,400);t.mount(e);const s=new io(600,400);t.append(s);const n=new Ct(20,20);n.move(10,10),s.appendContent(n);const i=new oo(40,40);t.defs.append(i),s.background.dom.style.fill=`url(#${i.id})`,s.events.on("move",(o,r)=>{i.dmove(-o,-r)});for(let o=0;o<100;o++){const r=new Ct(20,20);r.move(-2e3+Math.random()*4e3,-2e3+Math.random()*4e3),s.appendContent(r)}t.on("dblclick",o=>{const r=new Ct(20,20);r.move(o.offsetX,o.offsetY),s.appendContent(r)})}),bc=Gt(e=>{const t=new fe,s=new ot(null,"p-n"),n=new V("arg","hello");s.pushField(n),t.definedBlocks.add(o({},"p-n")),t.definedBlocks.add(o({previous:!1},"n")),t.definedBlocks.add(o({next:!1},"p")),t.definedBlocks.add(o({next:!1,previous:!1},"none"));const i=new ge(t,600,400);i.mount(e),i.$w.addBlock("n",100,50),i.$w.addBlock("p-n",100,100),i.$w.addBlock("p",100,150),i.$w.addBlock("none",100,200);function o(r={},l){const c=new ot(r,l),h=new V("arg","hello"),p=new V("arg","world"),f=new V("arg",l);return c.pushField(h),c.pushField(p),c.pushField(f),c}}),vc=Gt(e=>{const t=new fe,s=new ot(null,"p-n"),n=new V("arg","hello");s.pushField(n),t.definedBlocks.add(o({},"p-n")),t.definedBlocks.add(o({previous:!1},"n")),t.definedBlocks.add(o({next:!1},"p")),t.definedBlocks.add(o({next:!1,previous:!1},"none")),t.definedBlocks.add(r({next:!0,previous:!0},"slot-p-n")),t.definedBlocks.add(r({next:!0,previous:!0},"slot-p-n1")),t.definedBlocks.add(r({next:!0,previous:!0},"slot-p-n2"));const i=new ge(t,600,400);i.mount(e),i.$w.addBlock("p-n",100,50),i.$w.addBlock("p-n",100,100),i.$w.addBlock("p-n",100,150),i.$w.addBlock("slot-p-n",300,50),i.$w.addBlock("slot-p-n1",300,150),i.$w.addBlock("slot-p-n2",300,250);function o(l={},c){const h=new ot(l,c),p=new V("arg","hello"),f=new V("arg","world"),w=new V("arg",c);return h.pushField(p),h.pushField(f),h.pushField(w),h}function r(l={},c){const h=new ot(l,c),p=new Ae("arg1"),f=new V("arg",c);return h.pushField(f),h.pushField(p,1),h}}),xc=Gt(e=>{const t=new fe,s=new ge(t,600,400);s.mount(e),t.definedBlocks.add(n({},"dropdown")),s.$w.addBlock("dropdown",100,50);function n(i={},o){const r=new ot(i,o),l=new V("text1","hello"),c=[["1"],["2","21"]],h=new ps("text2","dropdown",{options:c});return r.pushField(l),r.pushField(h),r}}),wc=Gt(e=>{const t=new fe,s=new ge(t,600,400);s.mount(e),t.definedBlocks.add(n({},"input")),s.$w.addBlock("input",100,50);function n(i={},o){const r=new ot(i,o),l=new V("text1","hello"),c=new gs("text2","input");return r.pushField(l),r.pushField(c),r}}),kc=Gt(e=>{const t=new fe;t.definedBlocks.add(n({},"p-n")),t.definedBlocks.add(n({previous:!1},"n")),t.definedBlocks.add(n({next:!1},"p")),t.definedBlocks.add(n({next:!1,previous:!1},"none")),t.definedBlocks.add(i({next:!0,previous:!0},"slot-p-n")),t.definedBlocks.add(i({next:!0,previous:!0},"slot-p-n1")),t.definedBlocks.add(i({next:!0,previous:!0},"slot-p-n2"));const s=new ge(t,600,400);s.mount(e),s.$w.addBlock("p-n",100,50),s.$w.addBlock("n",100,150),s.$w.addBlock("p",100,250),s.$w.addBlock("slot-p-n",300,50);function n(o={},r){const l=new ot(o,r),c=new V("text1","hello"),h=new V("text2","world"),p=new V("arg",r);return l.pushField(c),l.pushField(h),l.pushField(p,1),l}function i(o={},r){const l=new ot(o,r),c=new Ae("arg1"),h=new V("arg",r);return l.pushField(h),l.pushField(c,1),l.pushField(h.clone(),2),l.pushField(c.clone(),3),l}}),yc=Gt(e=>{const t=new fe,s=new ot(null,"testid"),n=new V("arg","hello");s.pushField(n),t.definedBlocks.add(s);const i=new ge(t,600,400);i.$w.on("dblclick",o=>{console.log(o),i.$w.addBlock("testid",o.offsetX,o.offsetY)}),i.mount(e)}),Cc=Ri(()=>{const e=Oe({type:"area"}),t=n=>{e.type=n},s={area:K(_c,null,null),block:K(bc,null,null),blockConnection:K(vc,null,null),blockDropdown:K(xc,null,null),blockInput:K(wc,null,null),blockMulti:K(kc,null,null),workspace:K(yc,null,null)};return()=>K("div",{class:"playground"},[K("div",{class:"toolbar"},[K("button",null,[K("a",{href:"./api"},[Ns(" api document ")])]),K("span",{class:"title"},[Ns(" Examples: ")]),Object.keys(s).map(n=>K("button",{onClick:()=>t(n)},[n]))]),K("div",{class:"test"},[s[e.type]])])});Al(Cc).mount("#app");
